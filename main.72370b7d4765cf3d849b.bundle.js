(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Align})),__webpack_require__.d(__webpack_exports__,"r",(function(){return getRowStartIndexForOffset})),__webpack_require__.d(__webpack_exports__,"s",(function(){return getRowStopIndexForStartIndex})),__webpack_require__.d(__webpack_exports__,"i",(function(){return getColumnStartIndexForOffset})),__webpack_require__.d(__webpack_exports__,"j",(function(){return getColumnStopIndexForStartIndex})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getBoundedCells})),__webpack_require__.d(__webpack_exports__,"u",(function(){return itemKey})),__webpack_require__.d(__webpack_exports__,"q",(function(){return getRowOffset})),__webpack_require__.d(__webpack_exports__,"h",(function(){return getColumnOffset})),__webpack_require__.d(__webpack_exports__,"p",(function(){return getRowHeight})),__webpack_require__.d(__webpack_exports__,"k",(function(){return getColumnWidth})),__webpack_require__.d(__webpack_exports__,"l",(function(){return getEstimatedTotalHeight})),__webpack_require__.d(__webpack_exports__,"m",(function(){return getEstimatedTotalWidth})),__webpack_require__.d(__webpack_exports__,"d",(function(){return cellIndentifier})),__webpack_require__.d(__webpack_exports__,"z",(function(){return throttle})),__webpack_require__.d(__webpack_exports__,"e",(function(){return debounce})),__webpack_require__.d(__webpack_exports__,"n",(function(){return getOffsetForColumnAndAlignment})),__webpack_require__.d(__webpack_exports__,"o",(function(){return getOffsetForRowAndAlignment})),__webpack_require__.d(__webpack_exports__,"c",(function(){return cancelTimeout})),__webpack_require__.d(__webpack_exports__,"x",(function(){return requestTimeout})),__webpack_require__.d(__webpack_exports__,"y",(function(){return selectionFromActiveCell})),__webpack_require__.d(__webpack_exports__,"w",(function(){return prepareClipboardData})),__webpack_require__.d(__webpack_exports__,"f",(function(){return findNextCellWithinBounds})),__webpack_require__.d(__webpack_exports__,"v",(function(){return mergedCellBounds})),__webpack_require__.d(__webpack_exports__,"b",(function(){return AutoSizerCanvas})),__webpack_require__.d(__webpack_exports__,"t",(function(){return isNull}));var Align,ItemType,_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}!function(Align){Align.start="start",Align.end="end",Align.center="center",Align.auto="auto",Align.smart="smart"}(Align||(Align={})),function(ItemType){ItemType.row="row",ItemType.column="column"}(ItemType||(ItemType={}));var getRowStartIndexForOffset=function getRowStartIndexForOffset(_ref){var rowHeight=_ref.rowHeight,columnWidth=_ref.columnWidth,rowCount=_ref.rowCount,columnCount=_ref.columnCount,instanceProps=_ref.instanceProps,offset=_ref.offset;return findNearestItem({itemType:ItemType.row,rowHeight:rowHeight,columnWidth:columnWidth,rowCount:rowCount,columnCount:columnCount,instanceProps:instanceProps,offset:offset})},getRowStopIndexForStartIndex=function getRowStopIndexForStartIndex(_ref2){for(var startIndex=_ref2.startIndex,rowCount=_ref2.rowCount,rowHeight=_ref2.rowHeight,columnWidth=_ref2.columnWidth,scrollTop=_ref2.scrollTop,containerHeight=_ref2.containerHeight,instanceProps=_ref2.instanceProps,itemMetadata=getItemMetadata({itemType:ItemType.row,rowHeight:rowHeight,columnWidth:columnWidth,index:startIndex,instanceProps:instanceProps}),maxOffset=scrollTop+containerHeight,offset=itemMetadata.offset+itemMetadata.size,stopIndex=startIndex;stopIndex<rowCount-1&&offset<maxOffset;)stopIndex++,offset+=getItemMetadata({itemType:ItemType.row,rowHeight:rowHeight,columnWidth:columnWidth,index:stopIndex,instanceProps:instanceProps}).size;return stopIndex},getColumnStartIndexForOffset=function getColumnStartIndexForOffset(_ref3){var rowHeight=_ref3.rowHeight,columnWidth=_ref3.columnWidth,rowCount=_ref3.rowCount,columnCount=_ref3.columnCount,instanceProps=_ref3.instanceProps,offset=_ref3.offset;return findNearestItem({itemType:ItemType.column,rowHeight:rowHeight,columnWidth:columnWidth,rowCount:rowCount,columnCount:columnCount,instanceProps:instanceProps,offset:offset})},getColumnStopIndexForStartIndex=function getColumnStopIndexForStartIndex(_ref4){for(var startIndex=_ref4.startIndex,rowHeight=_ref4.rowHeight,columnWidth=_ref4.columnWidth,instanceProps=_ref4.instanceProps,containerWidth=_ref4.containerWidth,scrollLeft=_ref4.scrollLeft,columnCount=_ref4.columnCount,itemMetadata=getItemMetadata({itemType:ItemType.column,index:startIndex,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps}),maxOffset=scrollLeft+containerWidth,offset=itemMetadata.offset+itemMetadata.size,stopIndex=startIndex;stopIndex<columnCount-1&&offset<maxOffset;)stopIndex++,offset+=getItemMetadata({itemType:ItemType.column,rowHeight:rowHeight,columnWidth:columnWidth,index:stopIndex,instanceProps:instanceProps}).size;return stopIndex},getBoundedCells=function getBoundedCells(area){var cells=new Set;if(!area)return cells;for(var top=area.top,bottom=area.bottom,left=area.left,right=area.right,i=top;i<=bottom;i++)for(var j=left;j<=right;j++)cells.add(cellIndentifier(i,j));return cells},itemKey=function itemKey(_ref5){var rowIndex=_ref5.rowIndex,columnIndex=_ref5.columnIndex;return"".concat(rowIndex,":").concat(columnIndex)},getRowOffset=function getRowOffset(_ref6){var index=_ref6.index,rowHeight=_ref6.rowHeight,columnWidth=_ref6.columnWidth,instanceProps=_ref6.instanceProps;return getItemMetadata({itemType:ItemType.row,index:index,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps}).offset},getColumnOffset=function getColumnOffset(_ref7){var index=_ref7.index,rowHeight=_ref7.rowHeight,columnWidth=_ref7.columnWidth,instanceProps=_ref7.instanceProps;return getItemMetadata({itemType:ItemType.column,index:index,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps}).offset},getRowHeight=function getRowHeight(index,instanceProps){return instanceProps.rowMetadataMap[index].size},getColumnWidth=function getColumnWidth(index,instanceProps){return instanceProps.columnMetadataMap[index].size},getItemMetadata=function getItemMetadata(_ref8){var itemMetadataMap,itemSize,lastMeasuredIndex,recalcIndices,itemType=_ref8.itemType,index=_ref8.index,rowHeight=_ref8.rowHeight,columnWidth=_ref8.columnWidth,instanceProps=_ref8.instanceProps;"column"===itemType?(itemMetadataMap=instanceProps.columnMetadataMap,itemSize=columnWidth,lastMeasuredIndex=instanceProps.lastMeasuredColumnIndex,recalcIndices=instanceProps.recalcColumnIndices):(itemMetadataMap=instanceProps.rowMetadataMap,itemSize=rowHeight,lastMeasuredIndex=instanceProps.lastMeasuredRowIndex,recalcIndices=instanceProps.recalcRowIndices);var recalcWithinBoundsOnly=recalcIndices.length>0;if(index>lastMeasuredIndex){var offset=0;if(lastMeasuredIndex>=0){var itemMetadata=itemMetadataMap[lastMeasuredIndex];offset=itemMetadata.offset+itemMetadata.size}for(var i=lastMeasuredIndex+1;i<=index;i++){var _itemMetadataMap$i,size=recalcWithinBoundsOnly?recalcIndices.includes(i)?itemSize(i):(null===(_itemMetadataMap$i=itemMetadataMap[i])||void 0===_itemMetadataMap$i?void 0:_itemMetadataMap$i.size)||itemSize(i):itemSize(i);itemMetadataMap[i]={offset:offset,size:size},offset+=size}"column"===itemType?instanceProps.lastMeasuredColumnIndex=index:instanceProps.lastMeasuredRowIndex=index}return itemMetadataMap[index]},findNearestItem=function findNearestItem(_ref9){var itemMetadataMap,lastMeasuredIndex,itemType=_ref9.itemType,rowHeight=_ref9.rowHeight,columnWidth=_ref9.columnWidth,rowCount=_ref9.rowCount,columnCount=_ref9.columnCount,instanceProps=_ref9.instanceProps,offset=_ref9.offset;return"column"===itemType?(itemMetadataMap=instanceProps.columnMetadataMap,lastMeasuredIndex=instanceProps.lastMeasuredColumnIndex):(itemMetadataMap=instanceProps.rowMetadataMap,lastMeasuredIndex=instanceProps.lastMeasuredRowIndex),(lastMeasuredIndex>0?itemMetadataMap[lastMeasuredIndex].offset:0)>=offset?findNearestItemBinarySearch({itemType:itemType,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps,high:lastMeasuredIndex,low:0,offset:offset}):findNearestItemExponentialSearch({itemType:itemType,rowHeight:rowHeight,rowCount:rowCount,columnCount:columnCount,columnWidth:columnWidth,instanceProps:instanceProps,index:Math.max(0,lastMeasuredIndex),offset:offset})},findNearestItemBinarySearch=function findNearestItemBinarySearch(_ref10){for(var itemType=_ref10.itemType,rowHeight=_ref10.rowHeight,columnWidth=_ref10.columnWidth,instanceProps=_ref10.instanceProps,high=_ref10.high,low=_ref10.low,offset=_ref10.offset;low<=high;){var middle=low+Math.floor((high-low)/2),currentOffset=getItemMetadata({itemType:itemType,rowHeight:rowHeight,columnWidth:columnWidth,index:middle,instanceProps:instanceProps}).offset;if(currentOffset===offset)return middle;currentOffset<offset?low=middle+1:currentOffset>offset&&(high=middle-1)}return low>0?low-1:0},findNearestItemExponentialSearch=function findNearestItemExponentialSearch(_ref11){for(var itemType=_ref11.itemType,rowHeight=_ref11.rowHeight,columnWidth=_ref11.columnWidth,rowCount=_ref11.rowCount,columnCount=_ref11.columnCount,instanceProps=_ref11.instanceProps,index=_ref11.index,offset=_ref11.offset,itemCount="column"===itemType?columnCount:rowCount,interval=1;index<itemCount&&getItemMetadata({itemType:itemType,rowHeight:rowHeight,columnWidth:columnWidth,index:index,instanceProps:instanceProps}).offset<offset;)index+=interval,interval*=2;return findNearestItemBinarySearch({itemType:itemType,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps,high:Math.min(index,itemCount-1),low:Math.floor(index/2),offset:offset})},getEstimatedTotalHeight=function getEstimatedTotalHeight(rowCount,instanceProps){var estimatedRowHeight=instanceProps.estimatedRowHeight,totalSizeOfMeasuredRows=0,lastMeasuredRowIndex=instanceProps.lastMeasuredRowIndex,rowMetadataMap=instanceProps.rowMetadataMap;if(lastMeasuredRowIndex>=rowCount&&(lastMeasuredRowIndex=rowCount-1),lastMeasuredRowIndex>=0){var itemMetadata=rowMetadataMap[lastMeasuredRowIndex];totalSizeOfMeasuredRows=itemMetadata.offset+itemMetadata.size}return totalSizeOfMeasuredRows+(rowCount-lastMeasuredRowIndex-1)*estimatedRowHeight},getEstimatedTotalWidth=function getEstimatedTotalWidth(columnCount,instanceProps){var estimatedColumnWidth=instanceProps.estimatedColumnWidth,totalSizeOfMeasuredRows=0,lastMeasuredColumnIndex=instanceProps.lastMeasuredColumnIndex,columnMetadataMap=instanceProps.columnMetadataMap;if(lastMeasuredColumnIndex>=columnCount&&(lastMeasuredColumnIndex=columnCount-1),lastMeasuredColumnIndex>=0){var itemMetadata=columnMetadataMap[lastMeasuredColumnIndex];totalSizeOfMeasuredRows=itemMetadata.offset+itemMetadata.size}return totalSizeOfMeasuredRows+(columnCount-lastMeasuredColumnIndex-1)*estimatedColumnWidth},cellIndentifier=function cellIndentifier(rowIndex,columnIndex){return[rowIndex,columnIndex].toString()};function throttle(func,limit){var inThrottle;return function(){var args=arguments,context=this;inThrottle||(inThrottle=!0,func.apply(context,args),setTimeout((function(){return inThrottle=!1}),limit))}}function debounce(cb){var wait=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,h=0,callable=function callable(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];clearTimeout(h),h=window.setTimeout((function(){return cb.apply(void 0,args)}),wait)};return callable}var getOffsetForIndexAndAlignment=function getOffsetForIndexAndAlignment(_ref12){var itemType=_ref12.itemType,containerHeight=_ref12.containerHeight,containerWidth=_ref12.containerWidth,rowHeight=_ref12.rowHeight,columnWidth=_ref12.columnWidth,columnCount=_ref12.columnCount,rowCount=_ref12.rowCount,index=_ref12.index,_ref12$align=_ref12.align,align=void 0===_ref12$align?Align.smart:_ref12$align,scrollOffset=_ref12.scrollOffset,instanceProps=_ref12.instanceProps,scrollbarSize=_ref12.scrollbarSize,_ref12$frozenOffset=_ref12.frozenOffset,frozenOffset=void 0===_ref12$frozenOffset?0:_ref12$frozenOffset,size="column"===itemType?containerWidth:containerHeight,itemMetadata=getItemMetadata({itemType:itemType,rowHeight:rowHeight,columnWidth:columnWidth,index:index,instanceProps:instanceProps}),estimatedTotalSize="column"===itemType?getEstimatedTotalWidth(columnCount,instanceProps):getEstimatedTotalHeight(rowCount,instanceProps),maxOffset=Math.max(0,Math.min(estimatedTotalSize-size,itemMetadata.offset-frozenOffset)),minOffset=Math.max(0,itemMetadata.offset-size+scrollbarSize+itemMetadata.size);switch(align===Align.smart&&(align=scrollOffset>=minOffset-size&&scrollOffset<=maxOffset+size?Align.auto:Align.center),align){case Align.start:return maxOffset;case Align.end:return minOffset;case Align.center:return Math.round(minOffset+(maxOffset-minOffset)/2);case Align.auto:default:return scrollOffset>=minOffset&&scrollOffset<=maxOffset?scrollOffset:minOffset>maxOffset||scrollOffset<minOffset?minOffset:maxOffset}},getOffsetForColumnAndAlignment=function getOffsetForColumnAndAlignment(props){return getOffsetForIndexAndAlignment(_objectSpread({itemType:ItemType.column},props))},getOffsetForRowAndAlignment=function getOffsetForRowAndAlignment(props){return getOffsetForIndexAndAlignment(_objectSpread({itemType:ItemType.row},props))},now="object"===("undefined"==typeof performance?"undefined":_typeof(performance))&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function cancelTimeout(timeoutID){cancelAnimationFrame(timeoutID.id)}function requestTimeout(callback,delay){var start=now();var timeoutID={id:requestAnimationFrame((function tick(){now()-start>=delay?callback.call(null):timeoutID.id=requestAnimationFrame(tick)}))};return timeoutID}var selectionFromActiveCell=function selectionFromActiveCell(activeCell){return activeCell?[{bounds:{top:activeCell.rowIndex,left:activeCell.columnIndex,bottom:activeCell.rowIndex,right:activeCell.columnIndex}}]:[]},prepareClipboardData=function prepareClipboardData(rows){var html=["<table>"],csv=[];return rows.forEach((function(row){html.push("<tr>");var csvRow=[];row.forEach((function(cell){html.push("<td>".concat(cell,"</td>")),csvRow.push('"'.concat(cell.replace(/"/g,'""'),'"'))})),csv.push(csvRow.join(",")),html.push("</tr>")})),html.push("</table>"),[html.join(""),csv.join("\n")]},findNextCellWithinBounds=function findNextCellWithinBounds(activeCellBounds,selectionBounds){var rowIndex,columnIndex,direction=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_types__WEBPACK_IMPORTED_MODULE_0__.a.Right,nextActiveCell=null;return direction===_types__WEBPACK_IMPORTED_MODULE_0__.a.Right&&(rowIndex=activeCellBounds.top,(columnIndex=activeCellBounds.left+1)>selectionBounds.right&&(rowIndex+=1,columnIndex=selectionBounds.left,rowIndex>selectionBounds.bottom&&(rowIndex=selectionBounds.top)),nextActiveCell={rowIndex:rowIndex,columnIndex:columnIndex}),direction===_types__WEBPACK_IMPORTED_MODULE_0__.a.Left&&(rowIndex=activeCellBounds.bottom,(columnIndex=activeCellBounds.left-1)<selectionBounds.left&&(rowIndex-=1,columnIndex=selectionBounds.right,rowIndex<selectionBounds.top&&(rowIndex=selectionBounds.bottom)),nextActiveCell={rowIndex:rowIndex,columnIndex:columnIndex}),direction===_types__WEBPACK_IMPORTED_MODULE_0__.a.Down&&(rowIndex=activeCellBounds.bottom+1,columnIndex=activeCellBounds.left,rowIndex>selectionBounds.bottom&&(columnIndex=activeCellBounds.left+1,rowIndex=selectionBounds.top,columnIndex>selectionBounds.right&&(columnIndex=selectionBounds.left)),nextActiveCell={rowIndex:rowIndex,columnIndex:columnIndex}),direction===_types__WEBPACK_IMPORTED_MODULE_0__.a.Up&&(rowIndex=activeCellBounds.top-1,columnIndex=activeCellBounds.left,rowIndex<selectionBounds.top&&(columnIndex=activeCellBounds.left-1,rowIndex=selectionBounds.bottom,columnIndex<selectionBounds.left&&(columnIndex=selectionBounds.right)),nextActiveCell={rowIndex:rowIndex,columnIndex:columnIndex}),nextActiveCell},mergedCellBounds=function mergedCellBounds(area,boundGetter){for(var i=area.top;i<=area.bottom;i++)for(var j=area.left;j<=area.right;j++){var bounds=boundGetter({rowIndex:i,columnIndex:j});bounds.bottom>area.bottom&&(area.bottom=bounds.bottom),bounds.right>area.right&&(area.right=bounds.right),bounds.left<area.left&&(area.left=bounds.left),bounds.top<area.top&&(area.top=bounds.top)}return area},AutoSizerCanvas=function AutoSizerCanvas(defaultFont){var context=document.createElement("canvas").getContext("2d"),setFont=function setFont(){var font=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultFont;context&&(context.font=font)};return setFont(defaultFont),{context:context,measureText:function measureText(text){return null==context?void 0:context.measureText(text)},setFont:setFont}},isNull=function isNull(value){return null==value||""===value}},103:function(module,__webpack_exports__,__webpack_require__){"use strict";var ResizeStrategy,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),tiny_invariant__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(139);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}!function(ResizeStrategy){ResizeStrategy.lazy="lazy",ResizeStrategy.full="full"}(ResizeStrategy||(ResizeStrategy={}));__webpack_exports__.a=function useAutoSizer(_ref){var gridRef=_ref.gridRef,getValue=_ref.getValue,_ref$initialVisibleRo=_ref.initialVisibleRows,initialVisibleRows=void 0===_ref$initialVisibleRo?20:_ref$initialVisibleRo,_ref$cellSpacing=_ref.cellSpacing,cellSpacing=void 0===_ref$cellSpacing?10:_ref$cellSpacing,_ref$minColumnWidth=_ref.minColumnWidth,minColumnWidth=void 0===_ref$minColumnWidth?60:_ref$minColumnWidth,_ref$timeout=_ref.timeout,timeout=void 0===_ref$timeout?300:_ref$timeout,_ref$resizeStrategy=_ref.resizeStrategy,resizeStrategy=void 0===_ref$resizeStrategy?ResizeStrategy.lazy:_ref$resizeStrategy,rowCount=_ref.rowCount,_ref$resizeOnScroll=_ref.resizeOnScroll,resizeOnScroll=void 0===_ref$resizeOnScroll||_ref$resizeOnScroll,_ref$font=_ref.font,font=void 0===_ref$font?"12px Arial":_ref$font,_ref$autoResize=_ref.autoResize,autoResize=void 0===_ref$autoResize||_ref$autoResize;Object(tiny_invariant__WEBPACK_IMPORTED_MODULE_2__.a)(!(resizeStrategy===ResizeStrategy.full&&void 0===rowCount),"Row count should be specified if resize stragtegy is full");var autoSizer=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(Object(_helpers__WEBPACK_IMPORTED_MODULE_1__.b)(font)),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)({rowStartIndex:0,rowStopIndex:0,columnStartIndex:0,columnStopIndex:0}),2),viewport=_useState2[0],setViewport=_useState2[1],isMounted=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1),debounceResizer=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(Object(_helpers__WEBPACK_IMPORTED_MODULE_1__.e)((function(_ref2){var rowIndex=_ref2.rowIndex,columnIndex=_ref2.columnIndex;return gridRef.current.resetAfterIndices({rowIndex:rowIndex,columnIndex:columnIndex})}),timeout));Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){isMounted.current=!0}),[]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){autoSizer.current.setFont(font)}),[font]);var getColumnWidth=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(columnIndex){for(var rowStartIndex=viewport.rowStartIndex,rowStopIndex=viewport.rowStopIndex,visibleRows=resizeStrategy===ResizeStrategy.full?rowCount:rowStopIndex||initialVisibleRows,start=resizeStrategy===ResizeStrategy.full?0:rowStartIndex,maxWidth=minColumnWidth;start<visibleRows;){var _getValue,value=null!==(_getValue=getValue({rowIndex:start,columnIndex:columnIndex}))&&void 0!==_getValue?_getValue:null;if(null!==value){var metrics=autoSizer.current.measureText(value);if(metrics){var width=Math.ceil(metrics.width)+cellSpacing;width>maxWidth&&(maxWidth=width)}}start++}return maxWidth}),[viewport,getValue,initialVisibleRows]),handleResizeColumn=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(columnIndex){getColumnWidth(columnIndex);gridRef.current.resizeColumns([columnIndex])}),[]),handleViewChange=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(cells){if(setViewport(cells),resizeStrategy!==ResizeStrategy.full&&resizeOnScroll&&(cells.rowStartIndex!==viewport.rowStartIndex||cells.columnStartIndex!==viewport.columnStartIndex)&&gridRef.current){if(!isMounted.current)return;debounceResizer.current({rowIndex:cells.rowStartIndex,columnIndex:cells.columnStartIndex})}}),[resizeOnScroll,viewport,resizeStrategy]);return{columnWidth:autoResize?getColumnWidth:void 0,resizeColumn:handleResizeColumn,onViewChange:handleViewChange,getTextMetrics:function getTextMetrics(text){return autoSizer.current.measureText(text)}}}},135:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var DefaultTooltipComponent=function DefaultTooltipComponent(_ref){var content=_ref.content,x=_ref.x,y=_ref.y;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{position:"absolute",left:0,top:0,transform:"translate(".concat(x+10,"px, ").concat(y+10,"px)"),maxWidth:200,background:"rgba(0,0,0,0.8)",padding:5,borderRadius:5,color:"white"}},content)};__webpack_exports__.a=function useTooltip(_ref2){var getValue=_ref2.getValue,gridRef=_ref2.gridRef,_ref2$component=_ref2.component,Component=void 0===_ref2$component?DefaultTooltipComponent:_ref2$component,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),2),activeCell=_useState2[0],setActiveCell=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)({x:0,y:0}),2),tooltipPosition=_useState4[0],setTooltipPosition=_useState4[1],content=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var _getValue;return activeCell&&null!==(_getValue=getValue(activeCell))&&void 0!==_getValue?_getValue:null}),[activeCell]),showTooltip=activeCell&&null!==content,tooltipProps={content:content,x:tooltipPosition.x,y:tooltipPosition.y};return{tooltipComponent:showTooltip?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component,tooltipProps):null,onMouseMove:Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var coords=gridRef.current.getCellCoordsFromOffset(e.clientX,e.clientY);if(coords){var rowIndex=coords.rowIndex,columnIndex=coords.columnIndex;setTooltipPosition({x:e.clientX,y:e.clientY}),activeCell&&activeCell.rowIndex===rowIndex&&activeCell.columnIndex===columnIndex||setActiveCell({rowIndex:rowIndex,columnIndex:columnIndex})}}),[activeCell]),onMouseLeave:Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){setActiveCell(null)}),[])}}},136:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.a=function useCopyPaste(_ref){var _ref$selections=_ref.selections,selections=void 0===_ref$selections?[]:_ref$selections,_ref$activeCell=_ref.activeCell,activeCell=void 0===_ref$activeCell?null:_ref$activeCell,getValue=_ref.getValue,gridRef=_ref.gridRef,onPaste=_ref.onPaste,onCut=_ref.onCut,selectionRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)({selections:selections,activeCell:activeCell,getValue:getValue}),cutSelections=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){selectionRef.current={selections:selections,activeCell:activeCell,getValue:getValue}}));var currentSelections=function currentSelections(){var sel=selectionRef.current.selections.length?selectionRef.current.selections:Object(_helpers__WEBPACK_IMPORTED_MODULE_1__.y)(selectionRef.current.activeCell);return sel[sel.length-1]};Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){gridRef.current&&(document.addEventListener("copy",(function(e){var _gridRef$current;(null===(_gridRef$current=gridRef.current)||void 0===_gridRef$current?void 0:_gridRef$current.container)===document.activeElement&&handleCopy(e)})),document.addEventListener("paste",(function(e){var _gridRef$current2;(null===(_gridRef$current2=gridRef.current)||void 0===_gridRef$current2?void 0:_gridRef$current2.container)===document.activeElement&&handlePaste(e)})),document.addEventListener("cut",(function(e){var _gridRef$current3;(null===(_gridRef$current3=gridRef.current)||void 0===_gridRef$current3?void 0:_gridRef$current3.container)===document.activeElement&&(cutSelections.current=currentSelections(),handleCopy(e))})))}),[]);var handleCopy=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){for(var _e$clipboardData,_e$clipboardData2,_e$clipboardData3,_e$clipboardData4,bounds=currentSelections().bounds,top=bounds.top,left=bounds.left,right=bounds.right,bottom=bounds.bottom,rows=[],i=top;i<=bottom;i++){for(var row=[],j=left;j<=right;j++){var _selectionRef$current,value=null!==(_selectionRef$current=selectionRef.current.getValue({rowIndex:i,columnIndex:j}))&&void 0!==_selectionRef$current?_selectionRef$current:"";row.push(value)}rows.push(row)}var _prepareClipboardData2=_slicedToArray(Object(_helpers__WEBPACK_IMPORTED_MODULE_1__.w)(rows),2),html=_prepareClipboardData2[0],csv=_prepareClipboardData2[1];null===(_e$clipboardData=e.clipboardData)||void 0===_e$clipboardData||_e$clipboardData.setData(_types__WEBPACK_IMPORTED_MODULE_2__.c.html,html),null===(_e$clipboardData2=e.clipboardData)||void 0===_e$clipboardData2||_e$clipboardData2.setData(_types__WEBPACK_IMPORTED_MODULE_2__.c.plain,csv),null===(_e$clipboardData3=e.clipboardData)||void 0===_e$clipboardData3||_e$clipboardData3.setData(_types__WEBPACK_IMPORTED_MODULE_2__.c.csv,csv),null===(_e$clipboardData4=e.clipboardData)||void 0===_e$clipboardData4||_e$clipboardData4.setData(_types__WEBPACK_IMPORTED_MODULE_2__.c.json,JSON.stringify(rows)),e.preventDefault()}),[currentSelections]),handlePaste=function handlePaste(e){var _e$clipboardData5;if(null===(_e$clipboardData5=e.clipboardData)||void 0===_e$clipboardData5?void 0:_e$clipboardData5.items){for(var type,value,_i2=0,_mimeTypes=[_types__WEBPACK_IMPORTED_MODULE_2__.c.html,_types__WEBPACK_IMPORTED_MODULE_2__.c.csv,_types__WEBPACK_IMPORTED_MODULE_2__.c.plain];_i2<_mimeTypes.length;_i2++){var _e$clipboardData6;if(type=_mimeTypes[_i2],value=null===(_e$clipboardData6=e.clipboardData)||void 0===_e$clipboardData6?void 0:_e$clipboardData6.getData(type))break}if(type&&value){var rows=[];if(/^text\/html/.test(type))for(var doc=(new DOMParser).parseFromString(value,type),nodes=doc.querySelectorAll("table, p, h1, h2, h3, h4, h5, h6"),i=0;i<nodes.length;i++){var node=nodes[i];if("TABLE"===node.nodeName){var _step,_iterator=_createForOfIteratorHelper(doc.querySelectorAll("tr"));try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step2,tableRow=_step.value,row=[],_iterator2=_createForOfIteratorHelper(tableRow.querySelectorAll("td"));try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _cell=_step2.value;row.push(_cell.textContent)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}rows.push(row)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}else rows.push([node.textContent])}else{var _step3,_iterator3=_createForOfIteratorHelper(value.split("\n"));try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _step4,val=_step3.value,_row=[],_iterator4=_createForOfIteratorHelper(val.split(","));try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _cell2=_step4.value;_row.push(_cell2.replace(/^\"|\"$/gi,""))}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}rows.push(_row)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}onPaste&&onPaste(rows,selectionRef.current.activeCell),cutSelections.current&&(onCut&&onCut(cutSelections.current),cutSelections.current=null)}else console.warn("No clipboard data to paste")}};return{copy:Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){gridRef.current.focus(),document.execCommand("copy")}),[]),paste:Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var text,clipboardData,event;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return gridRef.current.focus(),_context.next=3,navigator.clipboard.readText();case 3:text=_context.sent,(clipboardData=new DataTransfer).setData(_types__WEBPACK_IMPORTED_MODULE_2__.c.plain,text),event=new ClipboardEvent("paste",{clipboardData:clipboardData}),handlePaste(event);case 8:case"end":return _context.stop()}}),_callee)}))),[])}}},137:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var PaginationComponent=function PaginationComponent(_ref){for(var currentPage=_ref.currentPage,goToFirst=_ref.goToFirst,goToLast=_ref.goToLast,goToPage=_ref.goToPage,totalPages=_ref.totalPages,nextPage=_ref.nextPage,prevPage=_ref.prevPage,pages=[],_loop=function _loop(i){var isActive=currentPage===i;pages.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function onClick(){return goToPage(i)}},isActive?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong",null,i):i))},i=1;i<=totalPages;i++)_loop(i);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:goToFirst,disabled:1===currentPage},"First page"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:prevPage,disabled:1===currentPage},"Prev page"),pages,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:nextPage,disabled:currentPage===totalPages},"Next page"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:goToLast,disabled:currentPage===totalPages},"Last page"))};__webpack_exports__.a=function usePagination(props){var _props$initialCurrent=props.initialCurrentPage,initialCurrentPage=void 0===_props$initialCurrent?1:_props$initialCurrent,_props$pageSize=props.pageSize,pageSize=void 0===_props$pageSize?10:_props$pageSize,_props$total=props.total,total=void 0===_props$total?0:_props$total,onChange=props.onChange,_props$component=props.component,component=void 0===_props$component?PaginationComponent:_props$component,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialCurrentPage),2),currentPage=_useState2[0],setCurrentPage=_useState2[1],totalPages=Math.ceil(total/pageSize);Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){onChange&&onChange(currentPage)}),[currentPage]);var pageProps={currentPage:currentPage,totalPages:totalPages,nextPage:function nextPage(){return setCurrentPage((function(prev){return Math.min(prev+1,totalPages)}))},prevPage:function prevPage(){return setCurrentPage((function(prev){return Math.max(prev-1,1)}))},goToFirst:function goToFirst(){return setCurrentPage(1)},goToLast:function goToLast(){return setCurrentPage(totalPages)},goToPage:function goToPage(page){return setCurrentPage(page)},pageSize:pageSize};return function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({paginationComponent:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(component,pageProps)},pageProps)}},19:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var EMPTY_SELECTION=[];__webpack_exports__.a=function useSelection(options){var _ref=options||{},gridRef=_ref.gridRef,_ref$initialActiveCel=_ref.initialActiveCell,initialActiveCell=void 0===_ref$initialActiveCel?null:_ref$initialActiveCel,_ref$initialSelection=_ref.initialSelections,initialSelections=void 0===_ref$initialSelection?[]:_ref$initialSelection,_ref$columnCount=_ref.columnCount,columnCount=void 0===_ref$columnCount?0:_ref$columnCount,_ref$rowCount=_ref.rowCount,rowCount=void 0===_ref$rowCount?0:_ref$rowCount,_ref$allowMultipleSel=_ref.allowMultipleSelection,allowMultipleSelection=void 0===_ref$allowMultipleSel||_ref$allowMultipleSel,_ref$persistantSelect=_ref.persistantSelectionMode,persistantSelectionMode=void 0!==_ref$persistantSelect&&_ref$persistantSelect,_ref$allowDeselectSel=_ref.allowDeselectSelection,allowDeselectSelection=void 0===_ref$allowDeselectSel||_ref$allowDeselectSel,onFill=_ref.onFill,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialActiveCell),2),activeCell=_useState2[0],setActiveCell=_useState2[1],_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialSelections),2),selections=_useState4[0],setSelections=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),2),fillSelection=_useState6[0],setFillSelection=_useState6[1],selectionStart=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),selectionEnd=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),isSelecting=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),isFilling=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),firstActiveCell=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),activeCellRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(activeCell);Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){activeCellRef.current=activeCell}));var newSelection=function newSelection(start){var end=arguments.length>1&&void 0!==arguments[1]?arguments[1]:start;selectionStart.current=start,selectionEnd.current=end;var bounds=selectionFromStartEnd(start,end);if(bounds){var coords={rowIndex:bounds.top,columnIndex:bounds.left};firstActiveCell.current=coords,setActiveCell(coords),clearSelections()}},selectionFromStartEnd=function selectionFromStartEnd(start,end){if(!gridRef)return null;var boundsStart=gridRef.current.getCellBounds(start),boundsEnd=gridRef.current.getCellBounds(end),bounds={top:Math.min(boundsStart.top,boundsEnd.top),bottom:Math.max(boundsStart.bottom,boundsEnd.bottom),left:Math.min(boundsStart.left,boundsEnd.left),right:Math.max(boundsStart.right,boundsEnd.right)};return Object(_helpers__WEBPACK_IMPORTED_MODULE_1__.v)(bounds,gridRef.current.getCellBounds)},modifySelection=function modifySelection(coords,setInProgress){if(selectionStart.current){selectionEnd.current=coords;var bounds=selectionFromStartEnd(selectionStart.current,coords);bounds&&setSelections((function(prevSelection){var len=prevSelection.length;return len?prevSelection.map((function(sel,i){return len-1===i?_objectSpread(_objectSpread({},sel),{},{bounds:bounds,inProgress:!!setInProgress}):sel})):[{bounds:bounds,inProgress:!!setInProgress}]}))}},appendSelection=function appendSelection(coords){if(coords){selectionStart.current=coords,selectionEnd.current=coords;var bounds=selectionFromStartEnd(coords,coords);bounds&&(setActiveCell({rowIndex:bounds.top,columnIndex:bounds.left}),setSelections((function(prev){return[].concat(_toConsumableArray(prev),[{bounds:bounds}])})))}},removeSelectionByIndex=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(index){var newSelection=selections.filter((function(_,idx){return idx!==index}));return setSelections(newSelection),newSelection}),[selections]),isEqualCells=function isEqualCells(a,b){return null!==a&&null!==b&&(a.rowIndex===b.rowIndex&&a.columnIndex===b.columnIndex)},clearSelections=function clearSelections(){setSelections(EMPTY_SELECTION)},cellIndexInSelection=function cellIndexInSelection(cell,selections){return selections.findIndex((function(sel){return Object(_helpers__WEBPACK_IMPORTED_MODULE_1__.g)(sel.bounds).has(Object(_helpers__WEBPACK_IMPORTED_MODULE_1__.d)(cell.rowIndex,cell.columnIndex))}))},handleMouseDown=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){if(gridRef&&gridRef.current){var coords=gridRef.current.getCellCoordsFromOffset(e.clientX,e.clientY);if(coords){var isContextMenuClick=e.nativeEvent.which===_types__WEBPACK_IMPORTED_MODULE_2__.d.right;if(isContextMenuClick)if(-1!==cellIndexInSelection(coords,selections))return;var isShiftKey=e.nativeEvent.shiftKey,isMetaKey=e.nativeEvent.ctrlKey||e.nativeEvent.metaKey,allowMultiple=persistantSelectionMode||isMetaKey&&allowMultipleSelection,allowDeselect=allowDeselectSelection,hasSelections=selections.length>0,isDeselecting=isMetaKey&&allowDeselect;if(isContextMenuClick||document.addEventListener("mousemove",handleMouseMove),document.addEventListener("mouseup",handleMouseUp),isSelecting.current=!0,isShiftKey)modifySelection(coords);else{var isSameAsActiveCell=isEqualCells(coords,activeCell);if(activeCell&&allowMultiple){if(isSameAsActiveCell&&(!isDeselecting||!hasSelections))return;if(isMetaKey&&!hasSelections&&appendSelection(activeCell),isMetaKey&&allowDeselect){var _cellIndex=cellIndexInSelection(coords,selections);if(-1!==_cellIndex){var _newSelection=removeSelectionByIndex(_cellIndex),nextActiveCell=function getPossibleActiveCellFromSelections(selections){if(!selections.length)return null;var bounds=selections[selections.length-1].bounds;return{rowIndex:bounds.top,columnIndex:bounds.left}}(_newSelection);return null!==nextActiveCell&&setActiveCell(nextActiveCell),void(1===_newSelection.length&&function cellEqualsSelection(cell,selections){return null!==cell&&selections.some((function(sel){return sel.bounds.left===cell.columnIndex&&sel.bounds.top===cell.rowIndex&&sel.bounds.right===cell.columnIndex&&sel.bounds.bottom===cell.rowIndex}))}(nextActiveCell,_newSelection)&&clearSelections())}}appendSelection(coords)}else newSelection(coords)}}}}),[activeCell,selections,allowMultipleSelection,allowDeselectSelection]),handleMouseMove=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){if(isSelecting.current&&gridRef){var coords=gridRef.current.getCellCoordsFromOffset(e.clientX,e.clientY);if(coords){if(isEqualCells(firstActiveCell.current,coords))return clearSelections();modifySelection(coords,!0),gridRef.current.scrollToItem(coords)}}}),[]),handleMouseUp=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){isSelecting.current=!1,document.removeEventListener("mousemove",handleMouseMove),document.removeEventListener("mouseup",handleMouseUp),setSelections((function(prevSelection){var len=prevSelection.length;return prevSelection.map((function(sel,i){return len-1===i?_objectSpread(_objectSpread({},sel),{},{inProgress:!1}):sel}))}))}),[]),keyNavigate=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(direction,modify,metaKeyPressed){if(selectionStart.current&&selectionEnd.current&&gridRef&&activeCell){var _ref2=modify?selectionEnd.current:activeCell,rowIndex=_ref2.rowIndex,columnIndex=_ref2.columnIndex,isMergedCell=null==gridRef?void 0:gridRef.current.isMergedCell({rowIndex:rowIndex,columnIndex:columnIndex}),currenBounds=gridRef.current.getCellBounds({rowIndex:rowIndex,columnIndex:columnIndex});switch(direction){case _types__WEBPACK_IMPORTED_MODULE_2__.a.Up:isMergedCell&&(rowIndex=currenBounds.top),rowIndex=Math.max(rowIndex-1,0),metaKeyPressed&&(rowIndex=0);break;case _types__WEBPACK_IMPORTED_MODULE_2__.a.Down:isMergedCell&&(rowIndex=currenBounds.bottom),rowIndex=Math.min(rowIndex+1,rowCount-1),metaKeyPressed&&(rowIndex=rowCount-1);break;case _types__WEBPACK_IMPORTED_MODULE_2__.a.Left:isMergedCell&&(columnIndex=currenBounds.left),columnIndex=Math.max(columnIndex-1,0),metaKeyPressed&&(columnIndex=0);break;case _types__WEBPACK_IMPORTED_MODULE_2__.a.Right:isMergedCell&&(columnIndex=currenBounds.right),columnIndex=Math.min(columnIndex+1,columnCount-1),metaKeyPressed&&(columnIndex=columnCount-1)}var newBounds=gridRef.current.getCellBounds({rowIndex:rowIndex,columnIndex:columnIndex}),coords={rowIndex:newBounds.top,columnIndex:newBounds.left},scrollToCell=modify?selectionEnd.current.rowIndex===coords.rowIndex?{columnIndex:coords.columnIndex}:{rowIndex:coords.rowIndex}:{rowIndex:rowIndex,columnIndex:columnIndex},isUserNavigatingToActiveCell=isEqualCells(firstActiveCell.current,coords);modify&&!isUserNavigatingToActiveCell?modifySelection(coords):newSelection(coords),gridRef.current.scrollToItem(scrollToCell)}}),[activeCell]),selectAll=function selectAll(){selectionStart.current={rowIndex:0,columnIndex:0},modifySelection({rowIndex:rowCount-1,columnIndex:columnCount-1})},handleKeyDown=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var isShiftKey=e.nativeEvent.shiftKey,isMetaKey=e.nativeEvent.ctrlKey||e.nativeEvent.metaKey;switch(e.nativeEvent.which){case _types__WEBPACK_IMPORTED_MODULE_2__.b.Right:keyNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.a.Right,isShiftKey,isMetaKey);break;case _types__WEBPACK_IMPORTED_MODULE_2__.b.Left:keyNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.a.Left,isShiftKey,isMetaKey);break;case _types__WEBPACK_IMPORTED_MODULE_2__.b.Up:keyNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.a.Up,isShiftKey,isMetaKey);break;case _types__WEBPACK_IMPORTED_MODULE_2__.b.Down:keyNavigate(_types__WEBPACK_IMPORTED_MODULE_2__.a.Down,isShiftKey,isMetaKey);break;case _types__WEBPACK_IMPORTED_MODULE_2__.b.A:isMetaKey&&selectAll();break;case _types__WEBPACK_IMPORTED_MODULE_2__.b.Home:isMetaKey?function selectFirstCellInColumn(){if(selectionStart.current){var cell={rowIndex:0,columnIndex:selectionStart.current.columnIndex};newSelection(cell),null==gridRef||gridRef.current.scrollToItem(cell)}}():function selectFirstCellInRow(){if(selectionStart.current){var cell={rowIndex:selectionStart.current.rowIndex,columnIndex:0};newSelection(cell),null==gridRef||gridRef.current.scrollToItem(cell)}}();break;case _types__WEBPACK_IMPORTED_MODULE_2__.b.End:isMetaKey?function selectLastCellInColumn(){if(selectionStart.current){var cell={rowIndex:rowCount-1,columnIndex:selectionStart.current.columnIndex};newSelection(cell),null==gridRef||gridRef.current.scrollToItem(cell)}}():function selectLastCellInRow(){if(selectionStart.current){var cell={rowIndex:selectionStart.current.rowIndex,columnIndex:columnCount-1};newSelection(cell),null==gridRef||gridRef.current.scrollToItem(cell)}}();break;case _types__WEBPACK_IMPORTED_MODULE_2__.b.BackSpace:isMetaKey&&function scrollToActiveCell(){activeCell&&(null==gridRef||gridRef.current.scrollToItem(activeCell,_helpers__WEBPACK_IMPORTED_MODULE_1__.a.smart))}();break;case _types__WEBPACK_IMPORTED_MODULE_2__.b.SPACE:isMetaKey&&isShiftKey?selectAll():isMetaKey?function selectColumn(){selectionEnd.current&&selectionStart.current&&(selectionStart.current={rowIndex:0,columnIndex:selectionStart.current.columnIndex},modifySelection({rowIndex:rowCount-1,columnIndex:selectionEnd.current.columnIndex}))}():isShiftKey&&function selectRow(){selectionEnd.current&&selectionStart.current&&(selectionStart.current={rowIndex:selectionStart.current.rowIndex,columnIndex:0},modifySelection({rowIndex:selectionEnd.current.rowIndex,columnIndex:columnCount-1}))}();break;case _types__WEBPACK_IMPORTED_MODULE_2__.b.Tab:if(selections.length&&activeCell&&gridRef){var bounds=selections[selections.length-1].bounds,activeCellBounds=gridRef.current.getCellBounds(activeCell),direction=isShiftKey?_types__WEBPACK_IMPORTED_MODULE_2__.a.Left:_types__WEBPACK_IMPORTED_MODULE_2__.a.Right,nextCell=Object(_helpers__WEBPACK_IMPORTED_MODULE_1__.f)(activeCellBounds,bounds,direction);nextCell&&setActiveCell(nextCell)}else keyNavigate(isShiftKey?_types__WEBPACK_IMPORTED_MODULE_2__.a.Left:_types__WEBPACK_IMPORTED_MODULE_2__.a.Right);e.preventDefault()}}),[rowCount,columnCount,activeCell,selections]),handleSetActiveCell=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(coords){selectionStart.current=coords,firstActiveCell.current=coords,selectionEnd.current=coords,setActiveCell(coords)}),[]),handleFillHandleMouseDown=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){e.stopPropagation(),isFilling.current=!0,document.addEventListener("mousemove",handleFillHandleMouseMove),document.addEventListener("mouseup",handleFillHandleMouseUp)}),[selections]),handleFillHandleMouseMove=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){if(isFilling.current&&gridRef&&activeCellRef.current){var coords=gridRef.current.getCellCoordsFromOffset(e.clientX,e.clientY);if(coords){var bounds=selectionFromStartEnd(activeCellRef.current,coords),hasSelections=selections.length>0,activeCellBounds=hasSelections?selections[selections.length-1].bounds:gridRef.current.getCellBounds(activeCellRef.current);if(bounds){var direction=bounds.right>activeCellBounds.right?_types__WEBPACK_IMPORTED_MODULE_2__.a.Right:bounds.top<activeCellBounds.top?_types__WEBPACK_IMPORTED_MODULE_2__.a.Up:bounds.left<activeCellBounds.left?_types__WEBPACK_IMPORTED_MODULE_2__.a.Left:_types__WEBPACK_IMPORTED_MODULE_2__.a.Down;direction===_types__WEBPACK_IMPORTED_MODULE_2__.a.Right&&(bounds=_objectSpread(_objectSpread({},activeCellBounds),{},{right:bounds.right})),direction===_types__WEBPACK_IMPORTED_MODULE_2__.a.Up&&(bounds=_objectSpread(_objectSpread({},activeCellBounds),{},{top:bounds.top})),direction===_types__WEBPACK_IMPORTED_MODULE_2__.a.Left&&(bounds=_objectSpread(_objectSpread({},activeCellBounds),{},{left:bounds.left})),direction===_types__WEBPACK_IMPORTED_MODULE_2__.a.Down&&(bounds=_objectSpread(_objectSpread({},activeCellBounds),{},{bottom:bounds.bottom})),hasSelections&&function boundsSubsetOfSelection(bounds,selection){return bounds.top>=selection.top&&bounds.bottom<=selection.bottom&&bounds.left>=selection.left&&bounds.right<=selection.right}(bounds,selections[0].bounds)?setFillSelection(null):(setFillSelection({bounds:bounds}),gridRef.current.scrollToItem(coords))}}}}),[selections]),handleFillHandleMouseUp=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var _ref3;if(isFilling.current=!1,document.removeEventListener("mousemove",handleFillHandleMouseMove),document.removeEventListener("mouseup",handleFillHandleMouseUp),gridRef&&activeCellRef.current){var fillSelection=null;if(setFillSelection((function(prev){return fillSelection=prev,null})),activeCell&&fillSelection){var newBounds=null===(_ref3=fillSelection)||void 0===_ref3?void 0:_ref3.bounds;newBounds&&(onFill&&onFill(activeCellRef.current,fillSelection,selections),setSelections((function(prevSelection){var len=prevSelection.length;return len?prevSelection.map((function(sel,i){return len-1===i?_objectSpread(_objectSpread({},sel),{},{bounds:newBounds}):sel})):[{bounds:newBounds}]})))}}}),[selections]);return{activeCell:activeCell,selections:selections,onMouseDown:handleMouseDown,onKeyDown:handleKeyDown,newSelection:newSelection,setSelections:setSelections,setActiveCell:handleSetActiveCell,fillHandleProps:{onMouseDown:handleFillHandleMouseDown},fillSelection:fillSelection,clearLastSelection:function handleClearLastSelection(){setSelections((function(prev){return prev.slice(0,-1)}))}}}},2:function(module,__webpack_exports__,__webpack_require__){"use strict";var KeyCodes,Direction,MimeType,MouseButtonCodes;__webpack_require__.d(__webpack_exports__,"b",(function(){return KeyCodes})),__webpack_require__.d(__webpack_exports__,"a",(function(){return Direction})),__webpack_require__.d(__webpack_exports__,"c",(function(){return MimeType})),__webpack_require__.d(__webpack_exports__,"d",(function(){return MouseButtonCodes})),function(KeyCodes){KeyCodes[KeyCodes.Right=39]="Right",KeyCodes[KeyCodes.Left=37]="Left",KeyCodes[KeyCodes.Up=38]="Up",KeyCodes[KeyCodes.Down=40]="Down",KeyCodes[KeyCodes.Escape=27]="Escape",KeyCodes[KeyCodes.Tab=9]="Tab",KeyCodes[KeyCodes.Meta=91]="Meta",KeyCodes[KeyCodes.Delete=9]="Delete",KeyCodes[KeyCodes.BackSpace=8]="BackSpace",KeyCodes[KeyCodes.Enter=13]="Enter",KeyCodes[KeyCodes.A=65]="A",KeyCodes[KeyCodes.SPACE=32]="SPACE",KeyCodes[KeyCodes.ALT=18]="ALT",KeyCodes[KeyCodes.C=67]="C",KeyCodes[KeyCodes.Home=36]="Home",KeyCodes[KeyCodes.End=35]="End",KeyCodes[KeyCodes.PageDown=34]="PageDown",KeyCodes[KeyCodes.PageUp=33]="PageUp",KeyCodes[KeyCodes.Z=90]="Z",KeyCodes[KeyCodes.CapsLock=20]="CapsLock"}(KeyCodes||(KeyCodes={})),function(Direction){Direction.Up="UP",Direction.Down="DOWN",Direction.Left="LEFT",Direction.Right="RIGHT"}(Direction||(Direction={})),function(MimeType){MimeType.html="text/html",MimeType.csv="text/csv",MimeType.plain="text/plain",MimeType.json="application/json"}(MimeType||(MimeType={})),function(MouseButtonCodes){MouseButtonCodes[MouseButtonCodes.left=1]="left",MouseButtonCodes[MouseButtonCodes.middle=2]="middle",MouseButtonCodes[MouseButtonCodes.right=3]="right"}(MouseButtonCodes||(MouseButtonCodes={}))},3:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Cell})),__webpack_require__.d(__webpack_exports__,"c",(function(){return useSelection.a}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),ReactKonvaCore=__webpack_require__(36),helpers=__webpack_require__(1),ReactKonva=__webpack_require__(5);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Cell=Object(react.memo)((function(props){var x=props.x,y=props.y,width=props.width,height=props.height,value=props.value,_props$fill=props.fill,fill=void 0===_props$fill?"white":_props$fill,_props$strokeWidth=props.strokeWidth,strokeWidth=void 0===_props$strokeWidth?.5:_props$strokeWidth,_props$stroke=props.stroke,stroke=void 0===_props$stroke?"#aaa":_props$stroke,_props$align=props.align,align=void 0===_props$align?"left":_props$align,_props$verticalAlign=props.verticalAlign,verticalAlign=void 0===_props$verticalAlign?"middle":_props$verticalAlign,_props$textColor=props.textColor,textColor=void 0===_props$textColor?"#333":_props$textColor,_props$padding=props.padding,padding=void 0===_props$padding?5:_props$padding,_props$fontFamily=props.fontFamily,fontFamily=void 0===_props$fontFamily?"Arial, sans-serif":_props$fontFamily,_props$fontSize=props.fontSize,fontSize=void 0===_props$fontSize?12:_props$fontSize,children=props.children,_props$wrap=props.wrap,wrap=void 0===_props$wrap?"none":_props$wrap,rest=_objectWithoutProperties(props,["x","y","width","height","value","fill","strokeWidth","stroke","align","verticalAlign","textColor","padding","fontFamily","fontSize","children","wrap"]);return react_default.a.createElement(ReactKonva.Group,rest,react_default.a.createElement(ReactKonva.Rect,{x:x,y:y,height:height,width:width,fill:fill,stroke:stroke,strokeWidth:strokeWidth,shadowForStrokeEnabled:!1,hitStrokeWidth:0}),Object(helpers.t)(value)?null:react_default.a.createElement(ReactKonva.Text,{x:x,y:y,height:height,width:width,text:value,fill:textColor,verticalAlign:verticalAlign,align:align,fontFamily:fontFamily,fontSize:fontSize,padding:padding,wrap:wrap,hitStrokeWidth:0}),children)})),Cell_CellRenderer=function CellRenderer(props){return react_default.a.createElement(Cell,props)};function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var utils_createHTMLBox=function createHTMLBox(_ref){var _ref$x=_ref.x,x=void 0===_ref$x?0:_ref$x,_ref$y=_ref.y,y=void 0===_ref$y?0:_ref$y,_ref$width=_ref.width,width=void 0===_ref$width?0:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?0:_ref$height,fill=_ref.fill,stroke=_ref.stroke,_ref$strokeLeftColor=_ref.strokeLeftColor,strokeLeftColor=void 0===_ref$strokeLeftColor?stroke:_ref$strokeLeftColor,_ref$strokeTopColor=_ref.strokeTopColor,strokeTopColor=void 0===_ref$strokeTopColor?stroke:_ref$strokeTopColor,_ref$strokeRightColor=_ref.strokeRightColor,strokeRightColor=void 0===_ref$strokeRightColor?stroke:_ref$strokeRightColor,_ref$strokeBottomColo=_ref.strokeBottomColor,strokeBottomColor=void 0===_ref$strokeBottomColo?stroke:_ref$strokeBottomColo,_ref$strokeWidth=_ref.strokeWidth,strokeWidth=void 0===_ref$strokeWidth?0:_ref$strokeWidth,_ref$strokeTopWidth=_ref.strokeTopWidth,strokeTopWidth=void 0===_ref$strokeTopWidth?strokeWidth:_ref$strokeTopWidth,_ref$strokeRightWidth=_ref.strokeRightWidth,strokeRightWidth=void 0===_ref$strokeRightWidth?strokeWidth:_ref$strokeRightWidth,_ref$strokeBottomWidt=_ref.strokeBottomWidth,strokeBottomWidth=void 0===_ref$strokeBottomWidt?strokeWidth:_ref$strokeBottomWidt,_ref$strokeLeftWidth=_ref.strokeLeftWidth,strokeLeftWidth=void 0===_ref$strokeLeftWidth?strokeWidth:_ref$strokeLeftWidth,key=_ref.key,_ref$strokeStyle=_ref.strokeStyle,strokeStyle=void 0===_ref$strokeStyle?"solid":_ref$strokeStyle,commonProps={};width-=Math.floor(strokeWidth),y-=Math.ceil(strokeWidth/2);var lines=[react_default.a.createElement("div",_extends({style:{position:"absolute",left:x,top:y,width:width,height:strokeTopWidth,borderWidth:0,borderColor:strokeTopColor,borderTopWidth:strokeTopWidth,borderStyle:strokeStyle},key:"top"},commonProps)),react_default.a.createElement("div",_extends({style:{position:"absolute",left:x+width,top:y,width:strokeRightWidth,height:height,borderWidth:0,borderColor:strokeRightColor,borderRightWidth:strokeRightWidth,borderStyle:strokeStyle},key:"right"},commonProps)),,react_default.a.createElement("div",_extends({style:{position:"absolute",left:x,top:y+height,width:width+strokeTopWidth,height:strokeBottomWidth,borderWidth:0,borderColor:strokeBottomColor,borderBottomWidth:strokeBottomWidth,borderStyle:strokeStyle},key:"bottom"},commonProps)),react_default.a.createElement("div",_extends({style:{position:"absolute",left:x,top:y,width:strokeLeftWidth,height:height,borderWidth:0,borderColor:strokeLeftColor,borderLeftWidth:strokeLeftWidth,borderStyle:strokeStyle},key:"left"},commonProps))];return react_default.a.createElement(react_default.a.Fragment,{key:key},lines,fill&&react_default.a.createElement("div",_extends({style:{position:"absolute",top:y,left:x,height:height,width:width,backgroundColor:fill,userSelect:"none",pointerEvents:"none"}},commonProps)))};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var src_Selection=function Selection(props){return utils_createHTMLBox(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({strokeWidth:1,strokeBoxWidth:0},props))};function FillHandle_extends(){return(FillHandle_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function FillHandle_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function FillHandle_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var src_FillHandle=function FillHandle(_ref){var _ref$x=_ref.x,x=void 0===_ref$x?0:_ref$x,_ref$y=_ref.y,y=void 0===_ref$y?0:_ref$y,stroke=_ref.stroke,_ref$strokeWidth=_ref.strokeWidth,strokeWidth=void 0===_ref$strokeWidth?1:_ref$strokeWidth,_ref$size=_ref.size,size=void 0===_ref$size?8:_ref$size,props=FillHandle_objectWithoutProperties(_ref,["x","y","stroke","strokeWidth","size"]);return 0===x||0===y?null:react_default.a.createElement("div",FillHandle_extends({style:{position:"absolute",left:x-size/2-strokeWidth,top:y-size/2,width:size,height:size,border:"".concat(strokeWidth,"px white solid"),background:stroke,cursor:"crosshair",pointerEvents:"all"}},props))},tiny_invariant_esm=__webpack_require__(139),types=__webpack_require__(2);function Grid_extends(){return(Grid_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function Grid_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Grid_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Grid_ownKeys(Object(source),!0).forEach((function(key){Grid_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Grid_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function Grid_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e2){function e(_x10){return _e2.apply(this,arguments)}return e.toString=function(){return _e2.toString()},e}((function(e){throw e})),f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function(_e3){function e(_x11){return _e3.apply(this,arguments)}return e.toString=function(){return _e3.toString()},e}((function(e){didErr=!0,err=e})),f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Grid_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function Grid_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var defaultShadowSettings={stroke:"#000",shadowColor:"black",shadowBlur:5,shadowOpacity:.4,shadowOffsetX:2},defaultRowHeight=function defaultRowHeight(){return 20},defaultColumnWidth=function defaultColumnWidth(){return 60},Grid_defaultSelectionRenderer=function defaultSelectionRenderer(props){return react_default.a.createElement(src_Selection,props)},src_Grid=Object(react.memo)(Object(react.forwardRef)((function(props,forwardedRef){var _props$width=props.width,containerWidth=void 0===_props$width?800:_props$width,_props$height=props.height,containerHeight=void 0===_props$height?600:_props$height,estimatedColumnWidth=props.estimatedColumnWidth,estimatedRowHeight=props.estimatedRowHeight,_props$rowHeight=props.rowHeight,rowHeight=void 0===_props$rowHeight?defaultRowHeight:_props$rowHeight,_props$columnWidth=props.columnWidth,columnWidth=void 0===_props$columnWidth?defaultColumnWidth:_props$columnWidth,_props$rowCount=props.rowCount,rowCount=void 0===_props$rowCount?0:_props$rowCount,_props$columnCount=props.columnCount,columnCount=void 0===_props$columnCount?0:_props$columnCount,_props$scrollbarSize=props.scrollbarSize,scrollbarSize=void 0===_props$scrollbarSize?13:_props$scrollbarSize,onScroll=props.onScroll,_props$showScrollbar=props.showScrollbar,showScrollbar=void 0===_props$showScrollbar||_props$showScrollbar,_props$selectionBackg=props.selectionBackgroundColor,selectionBackgroundColor=void 0===_props$selectionBackg?"rgb(14, 101, 235, 0.1)":_props$selectionBackg,_props$selectionBorde=props.selectionBorderColor,selectionBorderColor=void 0===_props$selectionBorde?"#1a73e8":_props$selectionBorde,_props$selectionStrok=props.selectionStrokeWidth,selectionStrokeWidth=void 0===_props$selectionStrok?1:_props$selectionStrok,_props$activeCellStro=props.activeCellStrokeWidth,activeCellStrokeWidth=void 0===_props$activeCellStro?2:_props$activeCellStro,activeCell=props.activeCell,_props$selections=props.selections,selections=void 0===_props$selections?[]:_props$selections,_props$frozenRows=props.frozenRows,frozenRows=void 0===_props$frozenRows?0:_props$frozenRows,_props$frozenColumns=props.frozenColumns,frozenColumns=void 0===_props$frozenColumns?0:_props$frozenColumns,_props$itemRenderer=props.itemRenderer,itemRenderer=void 0===_props$itemRenderer?Cell_CellRenderer:_props$itemRenderer,_props$mergedCells=props.mergedCells,mergedCells=void 0===_props$mergedCells?[]:_props$mergedCells,_props$snap=props.snap,snap=void 0!==_props$snap&&_props$snap,_props$scrollThrottle=props.scrollThrottleTimeout,scrollThrottleTimeout=void 0===_props$scrollThrottle?100:_props$scrollThrottle,onViewChange=props.onViewChange,_props$selectionRende=props.selectionRenderer,selectionRenderer=void 0===_props$selectionRende?Grid_defaultSelectionRenderer:_props$selectionRende,onBeforeRenderRow=props.onBeforeRenderRow,_props$showFrozenShad=props.showFrozenShadow,showFrozenShadow=void 0!==_props$showFrozenShad&&_props$showFrozenShad,_props$shadowSettings=props.shadowSettings,shadowSettings=void 0===_props$shadowSettings?defaultShadowSettings:_props$shadowSettings,_props$borderStyles=props.borderStyles,borderStyles=void 0===_props$borderStyles?[]:_props$borderStyles,children=props.children,stageProps=props.stageProps,_props$wrapper=props.wrapper,wrapper=void 0===_props$wrapper?function(children){return children}:_props$wrapper,_props$cellAreas=props.cellAreas,cellAreas=void 0===_props$cellAreas?[]:_props$cellAreas,_props$showFillHandle=props.showFillHandle,showFillHandle=void 0===_props$showFillHandle||_props$showFillHandle,fillSelection=props.fillSelection,_props$overscanCount=props.overscanCount,overscanCount=void 0===_props$overscanCount?1:_props$overscanCount,fillHandleProps=props.fillHandleProps,rest=Grid_objectWithoutProperties(props,["width","height","estimatedColumnWidth","estimatedRowHeight","rowHeight","columnWidth","rowCount","columnCount","scrollbarSize","onScroll","showScrollbar","selectionBackgroundColor","selectionBorderColor","selectionStrokeWidth","activeCellStrokeWidth","activeCell","selections","frozenRows","frozenColumns","itemRenderer","mergedCells","snap","scrollThrottleTimeout","onViewChange","selectionRenderer","onBeforeRenderRow","showFrozenShadow","shadowSettings","borderStyles","children","stageProps","wrapper","cellAreas","showFillHandle","fillSelection","overscanCount","fillHandleProps"]);Object(tiny_invariant_esm.a)(!(children&&"function"!=typeof children),"Children should be a function"),Object(react.useImperativeHandle)(forwardedRef,(function(){return{scrollTo:scrollTo,scrollBy:scrollBy,scrollToItem:scrollToItem,stage:stageRef.current,container:containerRef.current,resetAfterIndices:resetAfterIndices,getScrollPosition:getScrollPosition,isMergedCell:isMergedCell,getCellBounds:getCellBounds,getCellCoordsFromOffset:getCellCoordsFromOffset,getCellOffsetFromCoords:getCellOffsetFromCoords,focus:focusContainer,resizeColumns:resizeColumns,resizeRows:resizeRows,getViewPort:getViewPort}}));var instanceProps=Object(react.useRef)({columnMetadataMap:{},rowMetadataMap:{},lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,estimatedColumnWidth:estimatedColumnWidth||50,estimatedRowHeight:estimatedRowHeight||50,recalcColumnIndices:[],recalcRowIndices:[]}),stageRef=Object(react.useRef)(null),containerRef=Object(react.useRef)(null),verticalScrollRef=Object(react.useRef)(null),wheelingRef=Object(react.useRef)(null),horizontalScrollRef=Object(react.useRef)(null),_useReducer2=_slicedToArray(Object(react.useReducer)((function(s){return s+1}),0),2),forceRender=(_useReducer2[0],_useReducer2[1]),_useState2=_slicedToArray(Object(react.useState)({scrollTop:0,scrollLeft:0,isScrolling:!1,verticalScrollDirection:types.a.Down,horizontalScrollDirection:types.a.Right}),2),scrollState=_useState2[0],setScrollState=_useState2[1],scrollTop=scrollState.scrollTop,scrollLeft=scrollState.scrollLeft,isScrolling=scrollState.isScrolling,verticalScrollDirection=scrollState.verticalScrollDirection,horizontalScrollDirection=scrollState.horizontalScrollDirection,focusContainer=Object(react.useCallback)((function(){var _containerRef$current;return null===(_containerRef$current=containerRef.current)||void 0===_containerRef$current?void 0:_containerRef$current.focus()}),[]);Object(react.useEffect)((function(){var _containerRef$current2;null===(_containerRef$current2=containerRef.current)||void 0===_containerRef$current2||_containerRef$current2.addEventListener("wheel",handleWheel,{passive:!0})}),[]);var snapToRowFn=Object(react.useCallback)((function(_ref){var rowStartIndex=_ref.rowStartIndex,rowCount=_ref.rowCount,deltaY=_ref.deltaY;if(verticalScrollRef.current&&0!==deltaY){var nextRowIndex=deltaY<0?Math.max(0,rowStartIndex):Math.min(rowStartIndex+frozenRows,rowCount-1),_rowHeight=Object(helpers.p)(nextRowIndex,instanceProps.current);verticalScrollRef.current.scrollTop+=(deltaY<0?-1:1)*_rowHeight}}),[]),snapToColumnFn=Object(react.useCallback)((function(_ref2){var columnStartIndex=_ref2.columnStartIndex,columnCount=_ref2.columnCount,deltaX=_ref2.deltaX,frozenColumns=_ref2.frozenColumns;if(horizontalScrollRef.current&&0!==deltaX){var nextColumnIndex=deltaX<0?Math.max(0,columnStartIndex):Math.min(columnStartIndex+frozenColumns,columnCount-1),_columnWidth=Object(helpers.k)(nextColumnIndex,instanceProps.current);horizontalScrollRef.current.scrollLeft+=(deltaX<0?-1:1)*_columnWidth}}),[]),snapToRowThrottler=Object(react.useRef)(Object(helpers.z)(snapToRowFn,scrollThrottleTimeout)),snapToColumnThrottler=Object(react.useRef)(Object(helpers.z)(snapToColumnFn,scrollThrottleTimeout)),getScrollPosition=Object(react.useCallback)((function(){return{scrollTop:scrollTop,scrollLeft:scrollLeft}}),[scrollTop,scrollLeft]),resetAfterIndices=Object(react.useCallback)((function(_ref3){var columnIndex=_ref3.columnIndex,rowIndex=_ref3.rowIndex,shouldForceUpdate=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"number"==typeof columnIndex&&(instanceProps.current.lastMeasuredColumnIndex=Math.min(instanceProps.current.lastMeasuredColumnIndex,columnIndex-1)),"number"==typeof rowIndex&&(instanceProps.current.lastMeasuredRowIndex=Math.min(instanceProps.current.lastMeasuredRowIndex,rowIndex-1)),shouldForceUpdate&&forceRender()}),[]),mergedCellMap=Object(react.useMemo)((function(){for(var mergedCellMap=new Map,i=0;i<mergedCells.length;i++){var _step,bounds=mergedCells[i],_iterator=(bounds.top,bounds.left,_createForOfIteratorHelper(Object(helpers.g)(bounds)));try{for(_iterator.s();!(_step=_iterator.n()).done;){var cell=_step.value;mergedCellMap.set(cell,bounds)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}return mergedCellMap}),[mergedCells]),isMergedCell=Object(react.useCallback)((function(_ref4){var rowIndex=_ref4.rowIndex,columnIndex=_ref4.columnIndex;return mergedCellMap.has(Object(helpers.d)(rowIndex,columnIndex))}),[mergedCellMap]),getCellBounds=Object(react.useCallback)((function(_ref5){var rowIndex=_ref5.rowIndex,columnIndex=_ref5.columnIndex;return isMergedCell({rowIndex:rowIndex,columnIndex:columnIndex})?mergedCellMap.get(Object(helpers.d)(rowIndex,columnIndex)):{top:rowIndex,left:columnIndex,right:columnIndex,bottom:rowIndex}}),[mergedCellMap]),_getVerticalRangeToRe2=_slicedToArray(function getVerticalRangeToRender(){var startIndex=Object(helpers.r)({rowHeight:rowHeight,columnWidth:columnWidth,rowCount:rowCount,columnCount:columnCount,instanceProps:instanceProps.current,offset:scrollTop}),stopIndex=Object(helpers.s)({startIndex:startIndex,rowCount:rowCount,rowHeight:rowHeight,columnWidth:columnWidth,scrollTop:scrollTop,containerHeight:containerHeight,instanceProps:instanceProps.current}),overscanBackward=isScrolling&&verticalScrollDirection!==types.a.Up?1:Math.max(1,overscanCount),overscanForward=isScrolling&&verticalScrollDirection!==types.a.Down?1:Math.max(1,overscanCount);return[Math.max(0,startIndex-overscanBackward),Math.max(0,Math.min(rowCount-1,stopIndex+overscanForward)),startIndex,stopIndex]}(),2),rowStartIndex=_getVerticalRangeToRe2[0],rowStopIndex=_getVerticalRangeToRe2[1],_getHorizontalRangeTo2=_slicedToArray(function getHorizontalRangeToRender(){var startIndex=Object(helpers.i)({rowHeight:rowHeight,columnWidth:columnWidth,rowCount:rowCount,columnCount:columnCount,instanceProps:instanceProps.current,offset:scrollLeft}),stopIndex=Object(helpers.j)({startIndex:startIndex,columnCount:columnCount,rowHeight:rowHeight,columnWidth:columnWidth,scrollLeft:scrollLeft,containerWidth:containerWidth,instanceProps:instanceProps.current}),overscanBackward=isScrolling&&horizontalScrollDirection!==types.a.Left?1:Math.max(1,overscanCount),overscanForward=isScrolling&&horizontalScrollDirection!==types.a.Right?1:Math.max(1,overscanCount);return[Math.max(0,startIndex-overscanBackward),Math.max(0,Math.min(columnCount-1,stopIndex+overscanForward)),startIndex,stopIndex]}(),2),columnStartIndex=_getHorizontalRangeTo2[0],columnStopIndex=_getHorizontalRangeTo2[1],estimatedTotalHeight=Object(helpers.l)(rowCount,instanceProps.current),estimatedTotalWidth=Object(helpers.m)(columnCount,instanceProps.current),frozenColumnWidth=Object(react.useMemo)((function(){return Object(helpers.h)({index:frozenColumns,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current})}),[frozenColumns]),frozenRowHeight=Object(react.useMemo)((function(){return Object(helpers.q)({index:frozenRows,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current})}),[frozenRows]),isWithinFrozenColumnBoundary=Object(react.useCallback)((function(x){return frozenColumns>0&&x<frozenColumnWidth}),[frozenColumns,frozenColumnWidth]),isWithinFrozenRowBoundary=Object(react.useCallback)((function(y){return frozenRows>0&&y<frozenRowHeight}),[frozenRows,frozenRowHeight]),getCellCoordsFromOffset=Object(react.useCallback)((function(left,top){var _containerRef$current3;if(!stageRef.current)return null;var stage=stageRef.current.getStage(),rect=null===(_containerRef$current3=containerRef.current)||void 0===_containerRef$current3?void 0:_containerRef$current3.getBoundingClientRect();rect&&(left-=rect.x,top-=rect.y);var _stage$getAbsoluteTra=stage.getAbsoluteTransform().copy().invert().point({x:left,y:top}),x=_stage$getAbsoluteTra.x,y=_stage$getAbsoluteTra.y,rowIndex=Object(helpers.r)({rowHeight:rowHeight,columnWidth:columnWidth,rowCount:rowCount,columnCount:columnCount,instanceProps:instanceProps.current,offset:isWithinFrozenRowBoundary(y)?y:y+scrollTop}),columnIndex=Object(helpers.i)({rowHeight:rowHeight,columnWidth:columnWidth,rowCount:rowCount,columnCount:columnCount,instanceProps:instanceProps.current,offset:isWithinFrozenColumnBoundary(x)?x:x+scrollLeft}),bounds=getCellBounds({rowIndex:rowIndex,columnIndex:columnIndex});return{rowIndex:bounds.top,columnIndex:bounds.left}}),[scrollLeft,scrollTop,rowCount,columnCount]),getCellOffsetFromCoords=Object(react.useCallback)((function(_ref6){var rowIndex=_ref6.rowIndex,columnIndex=_ref6.columnIndex;return{x:Object(helpers.h)({index:columnIndex,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),y:Object(helpers.q)({index:rowIndex,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),width:Object(helpers.k)(columnIndex,instanceProps.current),height:Object(helpers.p)(rowIndex,instanceProps.current)}}),[]),resizeColumns=Object(react.useCallback)((function(indices){var leftMost=Math.min.apply(Math,_toConsumableArray(indices));resetAfterIndices({columnIndex:leftMost},!1),instanceProps.current.recalcColumnIndices=indices,forceRender()}),[]),resizeRows=Object(react.useCallback)((function(indices){var topMost=Math.min.apply(Math,_toConsumableArray(indices));resetAfterIndices({rowIndex:topMost},!1),instanceProps.current.recalcRowIndices=indices,forceRender()}),[]);Object(react.useEffect)((function(){instanceProps.current.recalcColumnIndices.length&&(instanceProps.current.recalcColumnIndices.length=0),instanceProps.current.recalcRowIndices.length&&(instanceProps.current.recalcRowIndices.length=0)}),[rowStopIndex,columnStopIndex]);var getViewPort=Object(react.useCallback)((function(){return{rowStartIndex:rowStartIndex,rowStopIndex:rowStopIndex,columnStartIndex:columnStartIndex,columnStopIndex:columnStopIndex}}),[rowStartIndex,rowStopIndex,columnStartIndex,columnStopIndex]),resetIsScrollingTimeoutID=Object(react.useRef)(null),resetIsScrollingDebounced=Object(react.useCallback)((function(){null!==resetIsScrollingTimeoutID.current&&Object(helpers.c)(resetIsScrollingTimeoutID.current),resetIsScrollingTimeoutID.current=Object(helpers.x)(resetIsScrolling,150)}),[]),resetIsScrolling=Object(react.useCallback)((function(){resetIsScrollingTimeoutID.current=null,setScrollState((function(prev){return Grid_objectSpread(Grid_objectSpread({},prev),{},{isScrolling:!1})}))}),[]),handleScroll=Object(react.useCallback)((function(e){var scrollTop=e.target.scrollTop;setScrollState((function(prev){return Grid_objectSpread(Grid_objectSpread({},prev),{},{isScrolling:!0,verticalScrollDirection:prev.scrollTop>scrollTop?types.a.Up:types.a.Down,scrollTop:scrollTop})})),onScroll&&onScroll({scrollTop:scrollTop,scrollLeft:scrollLeft}),resetIsScrollingDebounced()}),[scrollLeft]),handleScrollLeft=Object(react.useCallback)((function(e){var scrollLeft=e.target.scrollLeft;setScrollState((function(prev){return Grid_objectSpread(Grid_objectSpread({},prev),{},{isScrolling:!0,horizontalScrollDirection:prev.scrollLeft>scrollLeft?types.a.Left:types.a.Right,scrollLeft:scrollLeft})})),onScroll&&onScroll({scrollLeft:scrollLeft,scrollTop:scrollTop}),resetIsScrollingDebounced()}),[scrollTop]),scrollTo=Object(react.useCallback)((function(_ref7){var scrollTop=_ref7.scrollTop,scrollLeft=_ref7.scrollLeft;showScrollbar?(horizontalScrollRef.current&&void 0!==scrollLeft&&(horizontalScrollRef.current.scrollLeft=scrollLeft),verticalScrollRef.current&&void 0!==scrollTop&&(verticalScrollRef.current.scrollTop=scrollTop)):setScrollState((function(prev){return Grid_objectSpread(Grid_objectSpread({},prev),{},{scrollLeft:null==scrollLeft?prev.scrollLeft:scrollLeft,scrollTop:null==scrollTop?prev.scrollTop:scrollTop})}))}),[showScrollbar]),scrollBy=Object(react.useCallback)((function(_ref8){var x=_ref8.x,y=_ref8.y;showScrollbar?(horizontalScrollRef.current&&void 0!==x&&(horizontalScrollRef.current.scrollLeft+=x),verticalScrollRef.current&&void 0!==y&&(verticalScrollRef.current.scrollTop+=y)):setScrollState((function(prev){return Grid_objectSpread(Grid_objectSpread({},prev),{},{scrollLeft:null==x?prev.scrollLeft:prev.scrollLeft+x,scrollTop:null==y?prev.scrollTop:prev.scrollTop+y})}))}),[]),scrollToItem=Object(react.useCallback)((function(_ref9){var rowIndex=_ref9.rowIndex,columnIndex=_ref9.columnIndex,align=arguments.length>1&&void 0!==arguments[1]?arguments[1]:helpers.a.smart;if(!(rowIndex&&rowIndex<frozenRows||columnIndex&&columnIndex<frozenColumns)){var frozenColumnOffset=Object(helpers.h)({index:frozenColumns,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),newScrollLeft=void 0!==columnIndex?Object(helpers.n)({index:columnIndex,containerHeight:containerHeight,containerWidth:containerWidth,columnCount:columnCount,columnWidth:columnWidth,rowCount:rowCount,rowHeight:rowHeight,scrollOffset:scrollLeft,instanceProps:instanceProps.current,scrollbarSize:scrollbarSize,frozenOffset:frozenColumnOffset,align:align}):void 0,frozenRowOffset=Object(helpers.q)({index:frozenRows,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),newScrollTop=void 0!==rowIndex?Object(helpers.o)({index:rowIndex,containerHeight:containerHeight,containerWidth:containerWidth,columnCount:columnCount,columnWidth:columnWidth,rowCount:rowCount,rowHeight:rowHeight,scrollOffset:scrollTop,instanceProps:instanceProps.current,scrollbarSize:scrollbarSize,frozenOffset:frozenRowOffset,align:align}):void 0,coords={scrollLeft:newScrollLeft,scrollTop:newScrollTop},isOutsideViewport=void 0!==rowIndex&&rowIndex>rowStopIndex||void 0!==columnIndex&&columnIndex>columnStopIndex;isOutsideViewport?window.requestAnimationFrame((function(){scrollTo(coords)})):scrollTo(coords)}}),[containerHeight,containerWidth,rowCount,columnCount,scrollbarSize,scrollLeft,scrollTop,frozenRows,frozenColumns]),handleWheel=Object(react.useCallback)((function(event){var _horizontalScrollRef$,_verticalScrollRef$cu,deltaX=event.deltaX,deltaY=event.deltaY,deltaMode=event.deltaMode;if(snap)return snapToRowThrottler.current({deltaY:deltaY,rowStartIndex:rowStartIndex,rowCount:rowCount,frozenRows:frozenRows}),void snapToColumnThrottler.current({deltaX:deltaX,columnStartIndex:columnStartIndex,columnCount:columnCount,frozenColumns:frozenColumns});if(!wheelingRef.current){var dx=deltaX,dy=deltaY,isHorizontal=Math.abs(dx)>Math.abs(dy);if(1===deltaMode&&(dy*=scrollbarSize),horizontalScrollRef.current&&verticalScrollRef.current){var currentScroll=isHorizontal?null===(_horizontalScrollRef$=horizontalScrollRef.current)||void 0===_horizontalScrollRef$?void 0:_horizontalScrollRef$.scrollLeft:null===(_verticalScrollRef$cu=verticalScrollRef.current)||void 0===_verticalScrollRef$cu?void 0:_verticalScrollRef$cu.scrollTop;wheelingRef.current=window.requestAnimationFrame((function(){wheelingRef.current=null,isHorizontal?horizontalScrollRef.current&&(horizontalScrollRef.current.scrollLeft=currentScroll+dx):verticalScrollRef.current&&(verticalScrollRef.current.scrollTop=currentScroll+dy)}))}}}),[rowStartIndex,columnStartIndex,rowCount,columnCount,snap,frozenColumns,frozenRows]);Object(react.useEffect)((function(){onViewChange&&onViewChange({rowStartIndex:rowStartIndex,rowStopIndex:rowStopIndex,columnStartIndex:columnStartIndex,columnStopIndex:columnStopIndex})}),[rowStartIndex,rowStopIndex,columnStartIndex,columnStopIndex]);var cells=[];if(columnCount>0&&rowCount)for(var _rowIndex=rowStartIndex;_rowIndex<=rowStopIndex;_rowIndex++)if(!(_rowIndex<frozenRows)){onBeforeRenderRow&&onBeforeRenderRow(_rowIndex);for(var columnIndex=columnStartIndex;columnIndex<=columnStopIndex;columnIndex++)if(!(columnIndex<frozenColumns||isMergedCell({rowIndex:_rowIndex,columnIndex:columnIndex}))){var _x=Object(helpers.h)({index:columnIndex,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),_y=Object(helpers.q)({index:_rowIndex,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),width=Object(helpers.k)(columnIndex,instanceProps.current),height=Object(helpers.p)(_rowIndex,instanceProps.current);cells.push(itemRenderer({x:_x,y:_y,width:width,height:height,rowIndex:_rowIndex,columnIndex:columnIndex,key:Object(helpers.u)({rowIndex:_rowIndex,columnIndex:columnIndex})}))}}var _step2,ranges=[],_iterator2=_createForOfIteratorHelper(cellAreas);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _step2$value=_step2.value,_rowIndex6=_step2$value.rowIndex,_columnIndex5=_step2$value.columnIndex,toColumnIndex=_step2$value.toColumnIndex;if(!isMergedCell({rowIndex:_rowIndex6,columnIndex:_columnIndex5})){var _x9=Object(helpers.h)({index:_columnIndex5,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),_y9=Object(helpers.q)({index:_rowIndex6,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),_height8=Object(helpers.p)(_rowIndex6,instanceProps.current),_getCellOffsetFromCoo2=getCellOffsetFromCoords({rowIndex:_rowIndex6,columnIndex:toColumnIndex+1}).x,offsetX=void 0===_getCellOffsetFromCoo2?0:_getCellOffsetFromCoo2;ranges.push(itemRenderer({x:_x9,y:_y9,width:offsetX-_x9,height:_height8,rowIndex:_rowIndex6,columnIndex:_columnIndex5,key:"range:".concat(Object(helpers.u)({rowIndex:_rowIndex6,columnIndex:_columnIndex5}))}))}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}for(var mergedCellAreas=[],frozenColumnMergedCellAreas=[],frozenRowMergedCellAreas=[],frozenIntersectionMergedCells=[],i=0;i<mergedCells.length;i++){var _mergedCells$i=mergedCells[i],_rowIndex2=_mergedCells$i.top,_columnIndex=_mergedCells$i.left,right=_mergedCells$i.right,bottom=_mergedCells$i.bottom,isLeftBoundFrozen=_columnIndex<frozenColumns,isTopBoundFrozen=_rowIndex2<frozenRows,isIntersectionFrozen=_rowIndex2<frozenRows&&_columnIndex<frozenColumns,_x2=Object(helpers.h)({index:_columnIndex,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),_y2=Object(helpers.q)({index:_rowIndex2,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),cellRenderer=itemRenderer({x:_x2,y:_y2,width:Object(helpers.h)({index:right+1,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current})-_x2,height:Object(helpers.q)({index:bottom+1,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current})-_y2,rowIndex:_rowIndex2,columnIndex:_columnIndex,key:Object(helpers.u)({rowIndex:_rowIndex2,columnIndex:_columnIndex})});isLeftBoundFrozen&&frozenColumnMergedCellAreas.push(cellRenderer),isTopBoundFrozen&&frozenRowMergedCellAreas.push(cellRenderer),isIntersectionFrozen&&frozenIntersectionMergedCells.push(cellRenderer),mergedCellAreas.push(cellRenderer)}for(var frozenRowCells=[],_rowIndex3=0;_rowIndex3<Math.min(columnStopIndex,frozenRows);_rowIndex3++){onBeforeRenderRow&&onBeforeRenderRow(_rowIndex3);for(var _columnIndex2=columnStartIndex;_columnIndex2<=columnStopIndex;_columnIndex2++)if(!isMergedCell({rowIndex:_rowIndex3,columnIndex:_columnIndex2})){var _x3=Object(helpers.h)({index:_columnIndex2,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),_y3=Object(helpers.q)({index:_rowIndex3,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),_width2=Object(helpers.k)(_columnIndex2,instanceProps.current),_height2=Object(helpers.p)(_rowIndex3,instanceProps.current);frozenRowCells.push(itemRenderer({x:_x3,y:_y3,width:_width2,height:_height2,rowIndex:_rowIndex3,columnIndex:_columnIndex2,key:Object(helpers.u)({rowIndex:_rowIndex3,columnIndex:_columnIndex2})}))}}for(var frozenColumnCells=[],_rowIndex4=rowStartIndex;_rowIndex4<=rowStopIndex;_rowIndex4++){onBeforeRenderRow&&onBeforeRenderRow(_rowIndex4);for(var _columnIndex3=0;_columnIndex3<Math.min(columnStopIndex,frozenColumns);_columnIndex3++)if(!isMergedCell({rowIndex:_rowIndex4,columnIndex:_columnIndex3})){var _x4=Object(helpers.h)({index:_columnIndex3,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),_y4=Object(helpers.q)({index:_rowIndex4,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),_width3=Object(helpers.k)(_columnIndex3,instanceProps.current),_height3=Object(helpers.p)(_rowIndex4,instanceProps.current);frozenColumnCells.push(itemRenderer({x:_x4,y:_y4,width:_width3,height:_height3,rowIndex:_rowIndex4,columnIndex:_columnIndex3,key:Object(helpers.u)({rowIndex:_rowIndex4,columnIndex:_columnIndex3})}))}}for(var frozenColumnShadow=Object(react.useMemo)((function(){var frozenColumnLineX=Object(helpers.h)({index:frozenColumns,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current});return react_default.a.createElement(ReactKonvaCore.Line,Grid_extends({points:[frozenColumnLineX,0,frozenColumnLineX,containerHeight],offsetX:1},shadowSettings))}),[shadowSettings,frozenColumns,containerHeight]),frozenRowShadow=Object(react.useMemo)((function(){var frozenRowLineY=Object(helpers.q)({index:frozenRows,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current});return react_default.a.createElement(ReactKonvaCore.Line,Grid_extends({points:[0,frozenRowLineY,containerWidth,frozenRowLineY],offsetY:1},shadowSettings))}),[shadowSettings,frozenRows,containerWidth]),frozenIntersectionCells=[],_rowIndex5=0;_rowIndex5<Math.min(rowStopIndex,frozenRows);_rowIndex5++){onBeforeRenderRow&&onBeforeRenderRow(_rowIndex5);for(var _columnIndex4=0;_columnIndex4<Math.min(columnStopIndex,frozenColumns);_columnIndex4++)if(!isMergedCell({rowIndex:_rowIndex5,columnIndex:_columnIndex4})){var _x5=Object(helpers.h)({index:_columnIndex4,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),_y5=Object(helpers.q)({index:_rowIndex5,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),_width4=Object(helpers.k)(_columnIndex4,instanceProps.current),_height4=Object(helpers.p)(_rowIndex5,instanceProps.current);frozenIntersectionCells.push(itemRenderer({x:_x5,y:_y5,width:_width4,height:_height4,rowIndex:_rowIndex5,columnIndex:_columnIndex4,key:Object(helpers.u)({rowIndex:_rowIndex5,columnIndex:_columnIndex4})}))}}var fillHandleDimension={},activeCellSelection=null,activeCellSelectionFrozenColumn=null,activeCellSelectionFrozenRow=null,activeCellSelectionFrozenIntersection=null;if(activeCell){var bounds=getCellBounds(activeCell),top=bounds.top,left=bounds.left,_right=bounds.right,_bottom=bounds.bottom,actualBottom=Math.min(rowStopIndex,_bottom),actualRight=Math.min(columnStopIndex,_right),isInFrozenColumn=left<frozenColumns,isInFrozenRow=top<frozenRows,isInFrozenIntersection=isInFrozenRow&&isInFrozenColumn,_y6=Object(helpers.q)({index:top,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),_height5=Object(helpers.q)({index:actualBottom,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current})-_y6+Object(helpers.p)(actualBottom,instanceProps.current),_x6=Object(helpers.h)({index:left,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),_width5=Object(helpers.h)({index:actualRight,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current})-_x6+Object(helpers.k)(actualRight,instanceProps.current),cell=selectionRenderer({stroke:selectionBorderColor,strokeWidth:activeCellStrokeWidth,fill:"transparent",x:_x6,y:_y6,width:_width5,height:_height5});isInFrozenIntersection?activeCellSelectionFrozenIntersection=cell:isInFrozenRow?activeCellSelectionFrozenRow=cell:isInFrozenColumn?activeCellSelectionFrozenColumn=cell:activeCellSelection=cell,fillHandleDimension={x:_x6+_width5,y:_y6+_height5}}for(var isSelectionInProgress=!1,selectionAreas=[],selectionAreasFrozenColumns=[],selectionAreasFrozenRows=[],selectionAreasIntersection=[],_i2=0;_i2<selections.length;_i2++){var _selections$_i=selections[_i2],_bounds=_selections$_i.bounds,inProgress=_selections$_i.inProgress,style=_selections$_i.style,_top=_bounds.top,_left=_bounds.left,_right2=_bounds.right,_bottom2=_bounds.bottom,selectionBounds={x:0,y:0,width:0,height:0},_actualBottom=Math.min(rowStopIndex,_bottom2),_actualRight=Math.min(columnStopIndex,_right2),_isLeftBoundFrozen=_left<frozenColumns,_isTopBoundFrozen=_top<frozenRows,_isIntersectionFrozen=_top<frozenRows&&_left<frozenColumns,isLast=_i2===selections.length-1,styles=Grid_objectSpread({stroke:inProgress?selectionBackgroundColor:selectionBorderColor,fill:selectionBackgroundColor},style);if(inProgress&&(isSelectionInProgress=!0),selectionBounds.y=Object(helpers.q)({index:_top,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),selectionBounds.height=Object(helpers.q)({index:_actualBottom,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current})-selectionBounds.y+Object(helpers.p)(_actualBottom,instanceProps.current),selectionBounds.x=Object(helpers.h)({index:_left,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),selectionBounds.width=Object(helpers.h)({index:_actualRight,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current})-selectionBounds.x+Object(helpers.k)(_actualRight,instanceProps.current),_isLeftBoundFrozen){var frozenColumnSelectionWidth=Math.min(selectionBounds.width,Object(helpers.h)({index:frozenColumns-_left,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}));selectionAreasFrozenColumns.push(selectionRenderer(Grid_objectSpread(Grid_objectSpread({},styles),{},{key:_i2,x:selectionBounds.x,y:selectionBounds.y,width:frozenColumnSelectionWidth,height:selectionBounds.height,strokeRightWidth:frozenColumnSelectionWidth===selectionBounds.width?selectionStrokeWidth:0})))}if(_isTopBoundFrozen){var frozenRowSelectionHeight=Math.min(selectionBounds.height,Object(helpers.q)({index:frozenRows-_top,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}));selectionAreasFrozenRows.push(selectionRenderer(Grid_objectSpread(Grid_objectSpread({},styles),{},{key:_i2,x:selectionBounds.x,y:selectionBounds.y,width:selectionBounds.width,height:frozenRowSelectionHeight,strokeBottomWidth:frozenRowSelectionHeight===selectionBounds.height?selectionStrokeWidth:0})))}if(_isIntersectionFrozen){var frozenIntersectionSelectionHeight=Math.min(selectionBounds.height,Object(helpers.q)({index:frozenRows-_top,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current})),frozenIntersectionSelectionWidth=Math.min(selectionBounds.width,Object(helpers.h)({index:frozenColumns-_left,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}));selectionAreasIntersection.push(selectionRenderer(Grid_objectSpread(Grid_objectSpread({},styles),{},{key:_i2,x:selectionBounds.x,y:selectionBounds.y,width:frozenIntersectionSelectionWidth,height:frozenIntersectionSelectionHeight,strokeBottomWidth:frozenIntersectionSelectionHeight===selectionBounds.height?selectionStrokeWidth:0,strokeRightWidth:frozenIntersectionSelectionWidth===selectionBounds.width?selectionStrokeWidth:0})))}selectionAreas.push(selectionRenderer(Grid_objectSpread(Grid_objectSpread({},styles),{},{key:_i2,x:selectionBounds.x,y:selectionBounds.y,width:selectionBounds.width,height:selectionBounds.height}))),isLast&&(fillHandleDimension={x:selectionBounds.x+selectionBounds.width,y:selectionBounds.y+selectionBounds.height})}var fillSelections=null;if(fillSelection){var _bounds2=fillSelection.bounds,_top2=_bounds2.top,_left2=_bounds2.left,_right3=_bounds2.right,_bottom3=_bounds2.bottom,_actualBottom2=Math.min(rowStopIndex,_bottom3),_actualRight2=Math.min(columnStopIndex,_right3),_x7=Object(helpers.h)({index:_left2,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),_y7=Object(helpers.q)({index:_top2,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),_height6=Object(helpers.q)({index:_actualBottom2,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current})-_y7+Object(helpers.p)(_actualBottom2,instanceProps.current);fillSelections=selectionRenderer({x:_x7,y:_y7,width:Object(helpers.h)({index:_actualRight2,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current})-_x7+Object(helpers.k)(_actualRight2,instanceProps.current),height:_height6,stroke:"gray",strokeStyle:"dashed"})}var borderStylesCells=Object(react.useMemo)((function(){for(var borderStyleCells=[],_i3=0;_i3<borderStyles.length;_i3++){var _borderStyles$_i=borderStyles[_i3],_bounds3=_borderStyles$_i.bounds,_style=_borderStyles$_i.style,_top3=_bounds3.top,_right4=_bounds3.right,_bottom4=_bounds3.bottom,_left3=_bounds3.left,_x8=Object(helpers.h)({index:_left3,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),_y8=Object(helpers.q)({index:_top3,rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current}),_width7=Object(helpers.h)({index:Math.min(columnCount-1,_right4+1),rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current})-_x8,_height7=Object(helpers.q)({index:Math.min(rowCount-1,_bottom4+1),rowHeight:rowHeight,columnWidth:columnWidth,instanceProps:instanceProps.current})-_y8;borderStyleCells.push(utils_createHTMLBox(Grid_objectSpread({x:_x8,y:_y8,width:_width7,height:_height7},_style)))}return borderStyleCells}),[borderStyles,columnStopIndex,rowStopIndex,columnCount,rowCount]),listenToEvents=!isScrolling,frozenRowShadowComponent=showFrozenShadow&&0!==frozenRows&&0!==scrollTop?frozenRowShadow:null,frozenColumnShadowComponent=showFrozenShadow&&0!==frozenColumns&&0!==scrollLeft?frozenColumnShadow:null,stageChildren=react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(ReactKonvaCore.Layer,{offsetY:scrollTop,offsetX:scrollLeft},cells,mergedCellAreas,ranges),react_default.a.createElement(ReactKonvaCore.Layer,null,react_default.a.createElement(ReactKonvaCore.Group,{offsetY:scrollTop,offsetX:scrollLeft,listening:!1}),frozenRowShadowComponent,frozenColumnShadowComponent,react_default.a.createElement(ReactKonvaCore.Group,{offsetY:0,offsetX:scrollLeft},frozenRowCells,frozenRowMergedCellAreas),react_default.a.createElement(ReactKonvaCore.Group,{offsetY:scrollTop,offsetX:0},frozenColumnCells,frozenColumnMergedCellAreas),react_default.a.createElement(ReactKonvaCore.Group,{offsetY:0,offsetX:0},frozenIntersectionCells,frozenIntersectionMergedCells)),children&&"function"==typeof children?children({scrollLeft:scrollLeft,scrollTop:scrollTop}):null),fillhandleComponent=showFillHandle&&!isSelectionInProgress?react_default.a.createElement(src_FillHandle,Grid_extends({},fillHandleDimension,{stroke:selectionBorderColor,size:8},fillHandleProps)):null,selectionChildren=react_default.a.createElement("div",{style:{pointerEvents:"none"}},react_default.a.createElement("div",{style:{position:"absolute",left:frozenColumnWidth,top:frozenRowHeight,right:0,bottom:0,overflow:"hidden"}},react_default.a.createElement("div",{style:{transform:"translate(-".concat(scrollLeft+frozenColumnWidth,"px, -").concat(scrollTop+frozenRowHeight,"px)")}},borderStylesCells,fillSelections,selectionAreas,activeCellSelection,fillhandleComponent)),frozenColumns?react_default.a.createElement("div",{style:{position:"absolute",width:frozenColumnWidth+8,top:frozenRowHeight,left:0,bottom:0,overflow:"hidden"}},react_default.a.createElement("div",{style:{transform:"translate(0, -".concat(scrollTop+frozenRowHeight,"px)")}},selectionAreasFrozenColumns,activeCellSelectionFrozenColumn,fillhandleComponent)):null,frozenRows?react_default.a.createElement("div",{style:{position:"absolute",height:frozenRowHeight+8,left:frozenColumnWidth,right:0,top:0,overflow:"hidden"}},react_default.a.createElement("div",{style:{transform:"translate(-".concat(scrollLeft+frozenColumnWidth,"px, 0)")}},selectionAreasFrozenRows,activeCellSelectionFrozenRow,fillhandleComponent)):null,frozenRows&&frozenColumns?react_default.a.createElement("div",{style:{position:"absolute",height:frozenRowHeight+8,width:frozenColumnWidth+8,left:0,top:0,overflow:"hidden",pointerEvents:"none"}},selectionAreasIntersection,activeCellSelectionFrozenIntersection,fillhandleComponent):null);return react_default.a.createElement("div",{style:{position:"relative",width:containerWidth,userSelect:"none"}},react_default.a.createElement("div",Grid_extends({tabIndex:0,ref:containerRef},rest),react_default.a.createElement(ReactKonvaCore.Stage,Grid_extends({width:containerWidth,height:containerHeight,ref:stageRef,listening:listenToEvents},stageProps),wrapper(stageChildren))),selectionChildren,showScrollbar?react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{tabIndex:-1,style:{height:containerHeight,overflow:"scroll",position:"absolute",right:0,top:0,width:scrollbarSize,willChange:"transform"},onScroll:handleScroll,ref:verticalScrollRef},react_default.a.createElement("div",{style:{position:"absolute",height:estimatedTotalHeight,width:1}})),react_default.a.createElement("div",{tabIndex:-1,style:{overflow:"scroll",position:"absolute",bottom:0,left:0,width:containerWidth,height:scrollbarSize,willChange:"transform"},onScroll:handleScrollLeft,ref:horizontalScrollRef},react_default.a.createElement("div",{style:{position:"absolute",width:estimatedTotalWidth,height:1}}))):null)}))),useSelection=(__webpack_require__(81),__webpack_require__(19));__webpack_require__(135),__webpack_require__(103),__webpack_require__(136),__webpack_require__(72),__webpack_require__(137),__webpack_exports__.b=src_Grid},311:function(module,exports,__webpack_require__){__webpack_require__(312),__webpack_require__(458),__webpack_require__(459),module.exports=__webpack_require__(647)},376:function(module,exports){},459:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(197),__webpack_require__(138)},647:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(197);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(649),__webpack_require__(650)],module)}.call(this,__webpack_require__(648)(module))},649:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=649},650:function(module,exports,__webpack_require__){var map={"./Grid.stories.tsx":651,"./copypaste.stories.tsx":696,"./overlay.stories.tsx":697,"./pagination.stories.tsx":698,"./styling.stories.tsx":699,"./theme.stories.tsx":700,"./ticking.stories.tsx":701,"./touch.stories.tsx":704,"./treetable.stories.tsx":702,"./undo.stories.tsx":703};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=650},651:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"BaseGrid",(function(){return BaseGrid})),__webpack_require__.d(__webpack_exports__,"BaseGridSnap",(function(){return BaseGridSnap})),__webpack_require__.d(__webpack_exports__,"FullWidthGrid",(function(){return FullWidthGrid})),__webpack_require__.d(__webpack_exports__,"AutoSizer",(function(){return AutoSizer})),__webpack_require__.d(__webpack_exports__,"MergedCells",(function(){return MergedCells})),__webpack_require__.d(__webpack_exports__,"BaseGridWithSelection",(function(){return BaseGridWithSelection})),__webpack_require__.d(__webpack_exports__,"VariableSizeGrid",(function(){return VariableSizeGrid})),__webpack_require__.d(__webpack_exports__,"LargeGrid",(function(){return LargeGrid})),__webpack_require__.d(__webpack_exports__,"DataGrid",(function(){return DataGrid})),__webpack_require__.d(__webpack_exports__,"DataGridResize",(function(){return DataGridResize})),__webpack_require__.d(__webpack_exports__,"GridWithFrozenRow",(function(){return GridWithFrozenRow})),__webpack_require__.d(__webpack_exports__,"GridWithFrozenColumns",(function(){return GridWithFrozenColumns})),__webpack_require__.d(__webpack_exports__,"GridWithFrozenEdges",(function(){return GridWithFrozenEdges})),__webpack_require__.d(__webpack_exports__,"EditableGrid",(function(){return EditableGrid})),__webpack_require__.d(__webpack_exports__,"WithTooltip",(function(){return WithTooltip})),__webpack_require__.d(__webpack_exports__,"GridWithContextMenu",(function(){return GridWithContextMenu}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_src___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_src_hooks_useSelection__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(19),_src_hooks_useEditable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(81),_src_hooks_useSizer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(103),_src_hooks_useTooltip__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(135),react_use__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(706),react_konva__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5),_src_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}__webpack_exports__.default={title:"Grid",component:_src___WEBPACK_IMPORTED_MODULE_1__.b};var BaseGrid=function BaseGrid(){var App=function App(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,{width:900,height:600,columnCount:200,rowCount:200,columnWidth:function columnWidth(index){return 100},itemRenderer:function itemRenderer(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.a,_extends({},props,{value:"".concat(props.rowIndex,":").concat(props.columnIndex)}))},rowHeight:function rowHeight(index){return 20}})};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)},BaseGridSnap=function BaseGridSnap(){var Cell=function Cell(_ref){var rowIndex=_ref.rowIndex,columnIndex=_ref.columnIndex,x=_ref.x,y=_ref.y,width=_ref.width,height=_ref.height,text="".concat(rowIndex,"x").concat(columnIndex);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Rect,{x:x,y:y,height:height,width:width,fill:"white",stroke:"grey",strokeWidth:.5}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Text,{x:x,y:y,height:height,width:width,text:text,verticalAlign:"middle",align:"center"}))},App=function App(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,{width:900,height:600,columnCount:200,rowCount:200,columnWidth:function columnWidth(index){return 100},snap:!0,itemRenderer:function itemRenderer(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Cell,props)},rowHeight:function rowHeight(index){return 20}})};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)};BaseGridSnap.story={name:"Autosnap"};var FullWidthGrid=function FullWidthGrid(){var itemRenderer=function itemRenderer(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.a,_extends({value:"".concat(props.rowIndex,":").concat(props.columnIndex)},props))},App=function App(){var _useMeasure2=_slicedToArray(Object(react_use__WEBPACK_IMPORTED_MODULE_6__.a)(),2),containerRef=_useMeasure2[0],_useMeasure2$=_useMeasure2[1],width=_useMeasure2$.width,height=_useMeasure2$.height;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{flex:1,width:"100%",height:600},ref:containerRef},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,{width:width,height:height,columnCount:200,rowCount:200,columnWidth:function columnWidth(index){return 100},itemRenderer:itemRenderer,rowHeight:function rowHeight(index){return 20}}))};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)},AutoSizer=function AutoSizer(){var Cell=function Cell(_ref2){var rowIndex=_ref2.rowIndex,columnIndex=_ref2.columnIndex,x=_ref2.x,y=_ref2.y,width=_ref2.width,height=_ref2.height,text=_ref2.value||"".concat(rowIndex,"x").concat(columnIndex);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Rect,{x:x,y:y,height:height,width:width,fill:"white",stroke:"grey",strokeWidth:.5}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Text,{x:x,y:y,height:height,width:width,text:text,verticalAlign:"middle",align:"left",offsetX:-5}))},App=function App(){var _useState3,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)((_defineProperty(_useState3={},[1,2],"Hello, good morning"),_defineProperty(_useState3,[30,4],"lorem asd asd as das dasd asd as da sdasdasda"),_defineProperty(_useState3,[2,15],"lorem asd asd as das dasd asd as da sdasdasda"),_useState3)),2),data=_useState2[0],gridRef=(_useState2[1],Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null)),getCellValue=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(_ref3){var rowIndex=_ref3.rowIndex,columnIndex=_ref3.columnIndex;return data[[rowIndex,columnIndex]]}),[data]),autoSizerProps=Object(_src_hooks_useSizer__WEBPACK_IMPORTED_MODULE_4__.a)({gridRef:gridRef,getValue:getCellValue});return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,_extends({ref:gridRef,width:900,height:600,columnCount:200,rowCount:200,columnWidth:function columnWidth(index){return 100},itemRenderer:function itemRenderer(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Cell,_extends({value:data[[props.rowIndex,props.columnIndex]]},props))},rowHeight:function rowHeight(index){return 20}},autoSizerProps))};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)},MergedCells=function MergedCells(){var Cell=function Cell(_ref4){var rowIndex=_ref4.rowIndex,columnIndex=_ref4.columnIndex,x=_ref4.x,y=_ref4.y,width=_ref4.width,height=_ref4.height,text="".concat(rowIndex,"x").concat(columnIndex);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Rect,{x:x,y:y,height:height,width:width,fill:"white",stroke:"grey",strokeWidth:.5}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Text,{x:x,y:y,height:height,width:width,text:text,verticalAlign:"middle",align:"center"}))},App=function App(){var gridRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),_useSelection=Object(_src_hooks_useSelection__WEBPACK_IMPORTED_MODULE_2__.a)({gridRef:gridRef,rowCount:200,columnCount:200}),selection=_useSelection.selection,selectionProps=_objectWithoutProperties(_useSelection,["selection"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,_extends({width:900,height:600,columnCount:200,rowCount:200,ref:gridRef,mergedCells:[{top:5,left:5,right:6,bottom:5},{top:1,left:2,right:4,bottom:5},{top:5,left:0,right:1,bottom:5}],columnWidth:function columnWidth(index){return 100},itemRenderer:function itemRenderer(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Cell,props)},rowHeight:function rowHeight(index){return 20},selection:selection},selectionProps))};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)},BaseGridWithSelection=function BaseGridWithSelection(){var initialSelections=[{bounds:{top:2,right:3,left:2,bottom:20},style:{borderStyle:"dashed"}}],Cell=function Cell(_ref5){var rowIndex=_ref5.rowIndex,columnIndex=_ref5.columnIndex,x=_ref5.x,y=_ref5.y,width=_ref5.width,height=_ref5.height,text="".concat(rowIndex,"x").concat(columnIndex);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Rect,{x:x,y:y,height:height,width:width,fill:"white",stroke:"grey",strokeWidth:.5,listening:!1}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Text,{x:x,y:y,height:height,width:width,text:text,verticalAlign:"middle",align:"center"}))},App=function App(){var gridRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),_useSelection2=Object(_src_hooks_useSelection__WEBPACK_IMPORTED_MODULE_2__.a)({initialSelections:initialSelections,gridRef:gridRef,rowCount:200,columnCount:200}),selections=_useSelection2.selections,activeCell=_useSelection2.activeCell,selectionProps=_objectWithoutProperties(_useSelection2,["selections","activeCell"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,_extends({width:900,height:600,selections:selections,activeCell:activeCell,columnCount:200,rowCount:200,ref:gridRef},selectionProps,{columnWidth:function columnWidth(index){return 100},rowHeight:function rowHeight(index){return 20},itemRenderer:Cell}))};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)},VariableSizeGrid=function VariableSizeGrid(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,{width:900,height:600,columnCount:200,rowCount:200,columnWidth:function columnWidth(index){return index%3==0?200:100},rowHeight:function rowHeight(index){return index%2==0?40:20},itemRenderer:function Cell(_ref6){var rowIndex=_ref6.rowIndex,columnIndex=_ref6.columnIndex,x=_ref6.x,y=_ref6.y,width=_ref6.width,height=_ref6.height,text="".concat(rowIndex,"x").concat(columnIndex);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Rect,{x:x,y:y,height:height,width:width,fill:"white",stroke:"grey",strokeWidth:.5}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Text,{x:x,y:y,height:height,width:width,text:text,verticalAlign:"middle",align:"center"}))}})},LargeGrid=function LargeGrid(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,{width:900,height:600,columnCount:1e6,rowCount:1e6,columnWidth:function columnWidth(index){return index%3==0?200:100},rowHeight:function rowHeight(index){return index%2==0?40:20},itemRenderer:function Cell(_ref7){var rowIndex=_ref7.rowIndex,columnIndex=_ref7.columnIndex,x=_ref7.x,y=_ref7.y,width=_ref7.width,height=_ref7.height,text="".concat(rowIndex,"x").concat(columnIndex),fill=columnIndex%2==0?rowIndex%2==0?"#f8f8f0":"white":rowIndex%2?"#f8f8f0":"white";return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Rect,{x:x,y:y,height:height,width:width,fill:fill,stroke:"grey",strokeWidth:.5}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Text,{x:x,y:y,height:height,width:width,text:text,verticalAlign:"middle",align:"center"}))}})};LargeGrid.story={name:"1,000,000 rows and cols"};var DataGrid=function DataGrid(){var gridRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),Cell=function Cell(_ref8){var rowIndex=_ref8.rowIndex,columnIndex=_ref8.columnIndex,x=_ref8.x,y=_ref8.y,width=_ref8.width,height=_ref8.height,header=_ref8.header,text=header?columnIndex<1?"S/No":"Header ".concat(columnIndex):"".concat(rowIndex,"x").concat(columnIndex),fill=header?"#eee":"white";return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Rect,{x:x,y:y,height:height,width:width,fill:fill,stroke:"grey",strokeWidth:.5}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Text,{x:x,y:y,height:height,width:width,text:text,fontStyle:header?"bold":"normal",verticalAlign:"middle",align:"center"}))};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,{columnCount:1e5,height:40,rowCount:1,frozenColumns:1,ref:gridRef,width:900,columnWidth:function columnWidth(index){return 0===index?80:index%3==0?200:100},rowHeight:function rowHeight(index){return index%2==0?40:20},showScrollbar:!1,itemRenderer:function itemRenderer(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Cell,_extends({},props,{header:!0}))}}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,{columnCount:1e5,rowCount:1e5,frozenColumns:1,height:600,width:900,columnWidth:function columnWidth(index){return 0===index?80:index%3==0?200:100},rowHeight:function rowHeight(index){return index%2==0?40:20},onScroll:function onScroll(_ref9){var scrollLeft=_ref9.scrollLeft;gridRef.current.scrollTo({scrollLeft:scrollLeft})},itemRenderer:Cell}))},DataGridResize=function DataGridResize(){var DraggableRect=function DraggableRect(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Rect,_extends({fill:"blue",draggable:!0,hitStrokeWidth:20,onMouseEnter:function onMouseEnter(){return document.body.style.cursor="ew-resize"},onMouseLeave:function onMouseLeave(){return document.body.style.cursor="default"},dragBoundFunc:function dragBoundFunc(pos){return _objectSpread(_objectSpread({},pos),{},{y:0})}},props))},HeaderComponent=function HeaderComponent(_ref10){_ref10.rowIndex;var columnIndex=_ref10.columnIndex,x=_ref10.x,y=_ref10.y,width=_ref10.width,height=_ref10.height,frozenColumns=_ref10.frozenColumns,onResize=_ref10.onResize,text=columnIndex<frozenColumns?"S/No":"Header ".concat(columnIndex);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Group,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Rect,{x:x,y:y,height:height,width:width,fill:"#eee",stroke:"grey",strokeWidth:.5}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Text,{x:x,y:y,height:height,width:width,text:text,fontStyle:"bold",verticalAlign:"middle",align:"center"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DraggableRect,{x:x+width-5,y:y,width:5,height:height,onDragMove:function onDragMove(e){var newWidth=e.target.x()-x+5;onResize(columnIndex,newWidth)}}))},Cell=function Cell(_ref11){var rowIndex=_ref11.rowIndex,columnIndex=_ref11.columnIndex,x=_ref11.x,y=_ref11.y,width=_ref11.width,height=_ref11.height,key=_ref11.key,text="".concat(rowIndex,"x").concat(columnIndex);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,{key:key},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Rect,{x:x,y:y,height:height,width:width,fill:"white",stroke:"grey",strokeWidth:.5}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Text,{x:x,y:y,height:height,width:width,text:text,fontStyle:"normal",verticalAlign:"middle",align:"center"}))},App=function App(){var gridRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),mainGridRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),_useState5=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),2),columnWidthMap=_useState5[0],setColumnWidthMap=_useState5[1],handleResize=function handleResize(columnIndex,newWidth){setColumnWidthMap((function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},columnIndex,newWidth))})),gridRef.current.resizeColumns([columnIndex]),mainGridRef.current.resizeColumns([columnIndex])};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,{columnCount:1e5,height:40,rowCount:1,frozenColumns:1,ref:gridRef,width:900,columnWidth:function columnWidth(index){return index in columnWidthMap?columnWidthMap[index]:0===index?80:index%3==0?200:100},rowHeight:function rowHeight(index){return index%2==0?40:20},showScrollbar:!1,itemRenderer:function itemRenderer(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HeaderComponent,_extends({onResize:handleResize,frozenColumns:1},props))}}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,{columnCount:1e5,rowCount:1e5,frozenColumns:1,height:600,width:900,ref:mainGridRef,columnWidth:function columnWidth(index){return index in columnWidthMap?columnWidthMap[index]:0===index?80:index%3==0?200:100},rowHeight:function rowHeight(index){return index%2==0?40:20},onScroll:function onScroll(_ref12){var scrollLeft=_ref12.scrollLeft;gridRef.current.scrollTo({scrollLeft:scrollLeft})},itemRenderer:Cell}))};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)};DataGridResize.story={name:"Grid with resizable headers"};var GridWithFrozenRow=function GridWithFrozenRow(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,{width:900,height:600,columnCount:200,rowCount:200,frozenRows:1,columnWidth:function columnWidth(index){return 100},rowHeight:function rowHeight(index){return 20},itemRenderer:function Cell(_ref13){var rowIndex=_ref13.rowIndex,columnIndex=_ref13.columnIndex,x=_ref13.x,y=_ref13.y,width=_ref13.width,height=_ref13.height,text="".concat(rowIndex,"x").concat(columnIndex),isFrozen=rowIndex<1;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Rect,{x:x,y:y,height:height,width:width,fill:isFrozen?"lightblue":"white",stroke:"grey",strokeWidth:.5}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Text,{x:x,y:y,height:height,width:width,text:text,verticalAlign:"middle",align:"center"}))}})};GridWithFrozenRow.story={name:"Frozen rows"};var GridWithFrozenColumns=function GridWithFrozenColumns(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,{width:900,height:600,columnCount:200,rowCount:200,frozenColumns:1,columnWidth:function columnWidth(index){return 100},rowHeight:function rowHeight(index){return 20},itemRenderer:function Cell(_ref14){var rowIndex=_ref14.rowIndex,columnIndex=_ref14.columnIndex,x=_ref14.x,y=_ref14.y,width=_ref14.width,height=_ref14.height,text="".concat(rowIndex,"x").concat(columnIndex),isFrozen=columnIndex<1;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Rect,{x:x,y:y,height:height,width:width,fill:isFrozen?"lightblue":"white",stroke:"grey",strokeWidth:.5}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Text,{x:x,y:y,height:height,width:width,text:text,verticalAlign:"middle",align:"center"}))}})};GridWithFrozenColumns.story={name:"Frozen columns"};var GridWithFrozenEdges=function GridWithFrozenEdges(){var Cell=function Cell(_ref15){var rowIndex=_ref15.rowIndex,columnIndex=_ref15.columnIndex,x=_ref15.x,y=_ref15.y,width=_ref15.width,height=_ref15.height,text="".concat(rowIndex,"x").concat(columnIndex),isFrozen=rowIndex<2||columnIndex<2;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Rect,{x:x,y:y,height:height,width:width,fill:isFrozen?"lightblue":"white",stroke:"grey",strokeWidth:.5}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Text,{x:x,y:y,height:height,width:width,text:text,verticalAlign:"middle",align:"center"}))},App=function App(){var gridRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),_useSelection3=Object(_src_hooks_useSelection__WEBPACK_IMPORTED_MODULE_2__.a)({gridRef:gridRef,rowCount:200,columnCount:200}),selection=_useSelection3.selection,selectionProps=_objectWithoutProperties(_useSelection3,["selection"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,_extends({ref:gridRef,selection:selection,width:900,height:600,columnCount:200,rowCount:200,frozenColumns:2,frozenRows:2,columnWidth:function columnWidth(index){return 100},rowHeight:function rowHeight(index){return 20},itemRenderer:Cell},selectionProps))};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)};GridWithFrozenEdges.story={name:"Frozen columns and rows"};var EditableGrid=function EditableGrid(){var SelectEditor=function SelectEditor(props){var _React$createElement,position=props.position,onSubmit=props.onSubmit,value=props.value,cell=props.cell,nextFocusableCell=props.nextFocusableCell,onBlur=props.onBlur;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{position:"absolute",left:position.x,top:position.y,width:position.width,height:position.height}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select",(_defineProperty(_React$createElement={style:{width:"100%"},autoFocus:!0,value:value,onBlur:onBlur},"value",value),_defineProperty(_React$createElement,"onChange",(function onChange(e){onSubmit(e.target.value,cell,nextFocusableCell(cell,_src_types__WEBPACK_IMPORTED_MODULE_8__.a.Down))})),_React$createElement),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",null,"Yay Select"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",null,"This can be any React Component")))},App=function App(){var _useState8,_useState7=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)((_defineProperty(_useState8={},[1,2],"Hello lorem ipsum lorem"),_defineProperty(_useState8,[1,1],"Select editor"),_defineProperty(_useState8,[2,3],"Cannot be edited"),_defineProperty(_useState8,[30,4],"lorem asd asd as das dasd asd as da sdasdasda"),_defineProperty(_useState8,[2,15],"lorem asd asd as das dasd asd as da sdasdasda"),_defineProperty(_useState8,[100,80],"asdhasd asd asd asd as dasdas"),_useState8)),2),data=_useState7[0],setData=_useState7[1],gridRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),getCellValue=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(_ref16){var rowIndex=_ref16.rowIndex,columnIndex=_ref16.columnIndex;return data[[rowIndex,columnIndex]]}),[data]),_useSelection4=Object(_src_hooks_useSelection__WEBPACK_IMPORTED_MODULE_2__.a)({gridRef:gridRef,rowCount:200,columnCount:200,onFill:function onFill(activeCell,fillSelection){if(fillSelection){for(var bounds=fillSelection.bounds,changes={},value=getCellValue(activeCell),i=bounds.top;i<=bounds.bottom;i++)for(var j=bounds.left;j<=bounds.right;j++)changes[[i,j]]=value;setData((function(prev){return _objectSpread(_objectSpread({},prev),changes)}))}}}),activeCell=_useSelection4.activeCell,selections=_useSelection4.selections,setActiveCell=_useSelection4.setActiveCell,selectionProps=_objectWithoutProperties(_useSelection4,["activeCell","selections","setActiveCell"]),_useAutoSizer=Object(_src_hooks_useSizer__WEBPACK_IMPORTED_MODULE_4__.a)({gridRef:gridRef,getValue:getCellValue,resizeStrategy:"lazy",rowCount:200,autoResize:!1}),autoSizerProps=(_useAutoSizer.getTextMetrics,_objectWithoutProperties(_useAutoSizer,["getTextMetrics"])),_useEditable=Object(_src_hooks_useEditable__WEBPACK_IMPORTED_MODULE_3__.a)({gridRef:gridRef,getValue:getCellValue,selections:selections,getEditor:function getEditor(_ref17){var rowIndex=_ref17.rowIndex,columnIndex=_ref17.columnIndex;if(1==rowIndex&&1===columnIndex)return SelectEditor},activeCell:activeCell,onDelete:function onDelete(activeCell,selections){if(selections.length){var newValues=selections.reduce((function(acc,_ref18){for(var sel=_ref18.bounds,i=sel.top;i<=sel.bottom;i++)for(var j=sel.left;j<=sel.right;j++)acc[[i,j]]="";return acc}),{});setData((function(prev){return _objectSpread(_objectSpread({},prev),newValues)}));var selectionBounds=selections[0].bounds;gridRef.current.resetAfterIndices({columnIndex:selectionBounds.left,rowIndex:selectionBounds.top},!0)}else activeCell&&(setData((function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},[activeCell.rowIndex,activeCell.columnIndex],""))})),gridRef.current.resetAfterIndices(activeCell))},onBeforeEdit:function onBeforeEdit(_ref19){var rowIndex=_ref19.rowIndex,columnIndex=_ref19.columnIndex;return 2!==rowIndex||3!==columnIndex},onSubmit:function onSubmit(value,_ref20,nextActiveCell){var rowIndex=_ref20.rowIndex,columnIndex=_ref20.columnIndex;setData((function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},[rowIndex,columnIndex],value))})),gridRef.current.resizeColumns([columnIndex]),nextActiveCell&&setActiveCell(nextActiveCell)}}),editorComponent=_useEditable.editorComponent,isEditInProgress=_useEditable.isEditInProgress,editableProps=_objectWithoutProperties(_useEditable,["editorComponent","isEditInProgress"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{position:"relative"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,_extends({width:900,height:600,columnCount:200,rowCount:200,ref:gridRef,activeCell:activeCell,selections:selections,columnWidth:function columnWidth(index){return 100},showFillHandle:!isEditInProgress,itemRenderer:function itemRenderer(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.a,_extends({value:data[[props.rowIndex,props.columnIndex]],align:"left"},props))},rowHeight:function rowHeight(index){return 20}},selectionProps,editableProps,autoSizerProps,{onKeyDown:function onKeyDown(){selectionProps.onKeyDown.apply(selectionProps,arguments),editableProps.onKeyDown.apply(editableProps,arguments)},onMouseDown:function onMouseDown(){selectionProps.onMouseDown.apply(selectionProps,arguments),editableProps.onMouseDown.apply(editableProps,arguments)}})),editorComponent)};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)},WithTooltip=function WithTooltip(){var Cell=function Cell(_ref21){var rowIndex=_ref21.rowIndex,columnIndex=_ref21.columnIndex,x=_ref21.x,y=_ref21.y,width=_ref21.width,height=_ref21.height,text="".concat(rowIndex,"x").concat(columnIndex);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Rect,{x:x,y:y,height:height,width:width,fill:"white",stroke:"grey",strokeWidth:.5}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_7__.Text,{x:x,y:y,height:height,width:width,text:text,verticalAlign:"middle",align:"center"}))},App=function App(){var gridRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),_useTooltip=Object(_src_hooks_useTooltip__WEBPACK_IMPORTED_MODULE_5__.a)({gridRef:gridRef,getValue:function getValue(_ref22){var rowIndex=_ref22.rowIndex,columnIndex=_ref22.columnIndex;return"You are at: ".concat(rowIndex,", ").concat(columnIndex)}}),tooltipComponent=_useTooltip.tooltipComponent,tooltipProps=_objectWithoutProperties(_useTooltip,["tooltipComponent"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{position:"relative"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,_extends({ref:gridRef,width:900,height:600,columnCount:200,rowCount:200,columnWidth:function columnWidth(index){return 100},itemRenderer:function itemRenderer(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Cell,props)},rowHeight:function rowHeight(index){return 20}},tooltipProps)),tooltipComponent)};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)},GridWithContextMenu=function GridWithContextMenu(){var ContextMenu=function ContextMenu(_ref23){var left=_ref23.left,top=_ref23.top,rowIndex=_ref23.rowIndex,columnIndex=_ref23.columnIndex;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{left:left,top:top,position:"absolute",padding:8,background:"white",boxShadow:"0 1px 2px 3px rgba(0,0,0,0.2)"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"You selected ",rowIndex,": ",columnIndex),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"#",style:{display:"block",padding:8}},"Hide column"))},App=function App(){var gridRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),_useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),2),contextMenuPostion=_useState10[0],setContextMenuPosition=_useState10[1];return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{position:"relative"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.b,{ref:gridRef,onContextMenu:function onContextMenu(e){var _gridRef$current$getC=gridRef.current.getCellCoordsFromOffset(e.clientX,e.clientY),rowIndex=_gridRef$current$getC.rowIndex,columnIndex=_gridRef$current$getC.columnIndex;setContextMenuPosition({left:e.clientX+10,top:e.clientY+10,rowIndex:rowIndex,columnIndex:columnIndex}),e.preventDefault()},onMouseDown:function onMouseDown(){return setContextMenuPosition(null)},width:900,height:600,columnCount:200,rowCount:200,columnWidth:function columnWidth(index){return 100},itemRenderer:function itemRenderer(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src___WEBPACK_IMPORTED_MODULE_1__.a,_extends({},props,{value:"".concat(props.rowIndex,":").concat(props.columnIndex)}))},rowHeight:function rowHeight(index){return 20}}),contextMenuPostion&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ContextMenu,contextMenuPostion))};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)}},696:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_src__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_src_hooks_useCopyPaste__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(136);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Copy Paste",component:_src__WEBPACK_IMPORTED_MODULE_1__.b};var Default=function Default(){var App=function App(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(_defineProperty({},[1,2],"Hello world")),2),data=_useState2[0],setData=_useState2[1],gridRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),getValue=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(_ref){var rowIndex=_ref.rowIndex,columnIndex=_ref.columnIndex;return data[[rowIndex,columnIndex]]}),[data]),_useSelection=Object(_src__WEBPACK_IMPORTED_MODULE_1__.c)({gridRef:gridRef,columnCount:100,rowCount:100}),activeCell=_useSelection.activeCell,selections=_useSelection.selections,setSelections=_useSelection.setSelections,selectionProps=_objectWithoutProperties(_useSelection,["activeCell","selections","setSelections"]),_useCopyPaste=Object(_src_hooks_useCopyPaste__WEBPACK_IMPORTED_MODULE_2__.a)({gridRef:gridRef,selections:selections,activeCell:activeCell,getValue:getValue,onPaste:function onPaste(rows,activeCell){var _step,rowIndex=activeCell.rowIndex,columnIndex=activeCell.columnIndex,endRowIndex=Math.max(rowIndex,rowIndex+rows.length-1),endColumnIndex=Math.max(columnIndex,columnIndex+(rows.length&&rows[0].length-1)),changes={},_iterator=_createForOfIteratorHelper(rows.entries());try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step2,_step$value=_slicedToArray(_step.value,2),i=_step$value[0],_iterator2=_createForOfIteratorHelper(_step$value[1].entries());try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _step2$value=_slicedToArray(_step2.value,2),j=_step2$value[0],cell=_step2$value[1];changes[[rowIndex+i,columnIndex+j]]=cell}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}catch(err){_iterator.e(err)}finally{_iterator.f()}setData((function(prev){return _objectSpread(_objectSpread({},prev),changes)})),rowIndex===endRowIndex&&columnIndex===endColumnIndex||setSelections([{bounds:{top:rowIndex,left:columnIndex,bottom:endRowIndex,right:endColumnIndex}}])},onCut:function onCut(selection){for(var bounds=selection.bounds,changes={},i=bounds.top;i<=bounds.bottom;i++)for(var j=bounds.left;j<=bounds.right;j++)changes[[i,j]]=void 0;setData((function(prev){return _objectSpread(_objectSpread({},prev),changes)}))}}),copy=_useCopyPaste.copy,paste=_useCopyPaste.paste;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function onClick(){return copy()}},"Copy"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function onClick(){return paste()}},"Paste"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.b,_extends({activeCell:activeCell,selections:selections,ref:gridRef,rowCount:100,columnCount:100,columnWidth:function columnWidth(){return 100},itemRenderer:function itemRenderer(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.a,_extends({},props,{value:data[[props.rowIndex,props.columnIndex]]}))}},selectionProps)))};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)};Default.story={name:"Copy cells"}},697:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CanvasOverlay",(function(){return CanvasOverlay})),__webpack_require__.d(__webpack_exports__,"ChartJs",(function(){return ChartJs}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_konva__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_src__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Overlays",component:_src__WEBPACK_IMPORTED_MODULE_2__.b};var Resizable=function Resizable(_ref){var scrollTop=_ref.scrollTop,scrollLeft=_ref.scrollLeft,isSelected=_ref.isSelected,onSelect=_ref.onSelect,trRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),shapeRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)();Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){isSelected&&(trRef.current.attachTo(shapeRef.current),trRef.current.getLayer().batchDraw())}),[isSelected]);var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)({x:100,y:100,width:100,height:100}),2),dimensions=_useState2[0],setDimensions=_useState2[1],x=dimensions.x-scrollLeft,y=dimensions.y-scrollTop;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_1__.Rect,{onMouseDown:onSelect,ref:shapeRef,draggable:!0,onDragEnd:function onDragEnd(e){setDimensions((function(prev){return _objectSpread(_objectSpread({},prev),{},{x:e.target.x()+scrollLeft,y:e.target.y()+scrollTop})}))},onTransformEnd:function onTransformEnd(e){var node=shapeRef.current,scaleX=node.scaleX(),scaleY=node.scaleY();node.scaleX(1),node.scaleY(1),setDimensions({x:node.x(),y:node.y(),width:Math.max(5,node.width()*scaleX),height:Math.max(node.height()*scaleY)})},fill:"lightblue",stroke:"#aaa",strokeWidth:1,x:x,y:y,width:dimensions.width,height:dimensions.height}),isSelected&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_1__.Transformer,{ref:trRef,rotateEnabled:!1,boundBoxFunc:function boundBoxFunc(oldBox,newBox){return newBox.width<5||newBox.height<5?oldBox:newBox}}))},CanvasOverlay=function CanvasOverlay(){var App=function App(){var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isSelected=_useState4[0],setIsSelected=_useState4[1];return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.b,{rowCount:100,columnCount:100,stageProps:{onMouseDown:function handleMouseDown(e){!0!==e.target.attrs.draggable&&setIsSelected(!1)}}},(function(_ref2){var scrollTop=_ref2.scrollTop,scrollLeft=_ref2.scrollLeft;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_1__.Layer,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Resizable,{scrollTop:scrollTop,scrollLeft:scrollLeft,isSelected:isSelected,onSelect:function onSelect(){setIsSelected(!0)}}))}))};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)},ChartJSLayer=function ChartJSLayer(){var canvasRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),_useReducer2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useReducer)((function(s){return s+1}),0),2),forceRender=(_useReducer2[0],_useReducer2[1]);return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){canvasRef.current=document.createElement("canvas"),canvasRef.current.width=600,canvasRef.current.height=400,document.body.appendChild(canvasRef.current);var ctx=canvasRef.current.getContext("2d");new Chart(ctx,{type:"bar",data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:[0,10,5,2,20,30,45]}]},options:{animation:!1}});document.body.removeChild(canvasRef.current),forceRender()}),[]),canvasRef.current?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_1__.Image,{image:canvasRef.current,draggable:!0,fill:"white",stroke:"#aaa",x:100,y:100,width:600,height:400}):null},ChartJs=function ChartJs(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.b,{rowCount:100,columnCount:100},(function(_ref3){_ref3.scrollTop,_ref3.scrollLeft;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_1__.Layer,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ChartJSLayer,null))}))}},698:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Pagination",(function(){return Pagination}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_src__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_src_hooks_useSelection__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(19),_src_hooks_usePagination__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(137);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}__webpack_exports__.default={title:"Pagination",component:_src__WEBPACK_IMPORTED_MODULE_1__.b};var Pagination=function Pagination(){var App=function App(){var gridRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),_useSelection=Object(_src_hooks_useSelection__WEBPACK_IMPORTED_MODULE_2__.a)({gridRef:gridRef}),selections=_useSelection.selections,selectionProps=_objectWithoutProperties(_useSelection,["selections"]),_usePagination=Object(_src_hooks_usePagination__WEBPACK_IMPORTED_MODULE_3__.a)({pageSize:8,total:100,onChange:function onChange(page){}}),currentPage=_usePagination.currentPage,paginationComponent=_usePagination.paginationComponent;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.b,_extends({ref:gridRef,rowCount:8,columnCount:100,selections:selections,rowHeight:function rowHeight(){return 60},itemRenderer:function itemRenderer(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.a,_extends({},props,{padding:0,value:"Page: ".concat(currentPage," Row: ").concat(props.rowIndex+8*(currentPage-1))}))}},selectionProps)),paginationComponent)};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)};Pagination.story={name:"Pagination"}},699:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Borders",(function(){return Borders}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_src__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_src_hooks_useSelection__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(19);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}__webpack_exports__.default={title:"Styling",component:_src__WEBPACK_IMPORTED_MODULE_1__.b};var Borders=function Borders(){var App=function App(){var gridRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),_useSelection=Object(_src_hooks_useSelection__WEBPACK_IMPORTED_MODULE_2__.a)({gridRef:gridRef}),selections=_useSelection.selections,selectionProps=_objectWithoutProperties(_useSelection,["selections"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.b,_extends({ref:gridRef,rowCount:100,columnCount:100,selections:selections,borderStyles:[{bounds:{top:1,left:1,right:1,bottom:1},style:{strokeWidth:1,stroke:"red"}},{bounds:{top:5,left:5,right:8,bottom:8},style:{strokeWidth:1,stroke:"green"}}]},selectionProps))};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)};Borders.story={name:"Borders"}},700:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ThemedGrid",(function(){return ThemedGrid}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_src__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Themes",component:_src__WEBPACK_IMPORTED_MODULE_1__.b};var darkTheme={cellColor:"#ccc",cellBackground:"#181E20",cellOddBackground:"#444"},lightTheme={cellColor:"#333",cellBackground:"white",cellOddBackground:"#eee"},ThemeContext=Object(react__WEBPACK_IMPORTED_MODULE_0__.createContext)(lightTheme),ThemedGrid=function ThemedGrid(){var App=function App(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(lightTheme),2),theme=_useState2[0],setTheme=_useState2[1];return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{type:"button",onClick:function switchTheme(){setTheme((function(prev){return prev===lightTheme?darkTheme:lightTheme}))}},"Switch to ",theme===lightTheme?"Dark":"Light"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.b,{rowCount:100,columnCount:100,itemRenderer:function itemRenderer(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ThemedCell,props)},wrapper:function wrapper(children){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ThemeContext.Provider,{value:theme},children)}}))};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)},ThemedCell=function ThemedCell(props){var theme=Object(react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ThemeContext),fill=props.rowIndex%2==0?theme.cellBackground:theme.cellOddBackground;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.a,_extends({},props,{value:"".concat(props.rowIndex," x ").concat(props.columnIndex),fill:fill,textColor:theme.cellColor}))};ThemedGrid.story={name:"Dark mode"}},701:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"TickingGrid",(function(){return TickingGrid}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_src__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_src_hooks_useSelection__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(19);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}__webpack_exports__.default={title:"Ticking",component:_src__WEBPACK_IMPORTED_MODULE_1__.b};var generateKey=function generateKey(){var min=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,rowIndex=Math.floor(30*Math.random())+min,columnIndex=Math.floor(30*Math.random())+min;return[rowIndex,columnIndex]},DataCell=Object(react__WEBPACK_IMPORTED_MODULE_0__.memo)((function(props){var color=props.value>0?"green":"red";return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.a,_extends({},props,{textColor:color,align:"right",padding:5}))})),TickingGrid=function TickingGrid(){var _useState3,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)((_defineProperty(_useState3={},[0,0],1),_defineProperty(_useState3,[0,2],-20),_useState3)),2),data=_useState2[0],setData=_useState2[1],gridRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)();Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var interval=setInterval((function(){setData((function(prev){var _objectSpread2,isNegative=Math.random()<.5?-1:1,key=generateKey(),key2=generateKey();return _objectSpread(_objectSpread({},prev),{},(_defineProperty(_objectSpread2={},key,isNegative*Math.floor(100*Math.random())+1),_defineProperty(_objectSpread2,key2,isNegative*Math.floor(100*Math.random())+1),_objectSpread2))}))}),20);return function(){return clearInterval(interval)}}),[]);var getValue=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(_ref){var rowIndex=_ref.rowIndex,columnIndex=_ref.columnIndex;return data[[rowIndex,columnIndex]]}),[data]),_useSelection=Object(_src_hooks_useSelection__WEBPACK_IMPORTED_MODULE_2__.a)({gridRef:gridRef,rowCount:200,columnCount:200}),selections=_useSelection.selections,selectionProps=_objectWithoutProperties(_useSelection,["selections"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.b,_extends({ref:gridRef,itemRenderer:function itemRenderer(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DataCell,_extends({},props,{value:getValue({rowIndex:props.rowIndex,columnIndex:props.columnIndex})}))},rowCount:200,columnCount:200,selections:selections},selectionProps))};TickingGrid.story={name:"Default"}},702:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"TreeTable",(function(){return TreeTable})),__webpack_require__.d(__webpack_exports__,"ExpandCollapseRows",(function(){return ExpandCollapseRows}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_src__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_src_hooks_useSelection__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(19),react_konva__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(138);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Treetable",component:_src__WEBPACK_IMPORTED_MODULE_1__.b};var TreeTable=function TreeTable(){var width=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.number)("width",900),height=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.number)("height",600),ColumnHeader=function ColumnHeader(_ref){var _data,rowIndex=_ref.rowIndex,columnIndex=_ref.columnIndex,x=_ref.x,y=_ref.y,width=_ref.width,height=_ref.height,data=_ref.data,headers=_ref.headers,onToggleNode=_ref.onToggleNode,treeState=_ref.treeState,column=headers[columnIndex]&&headers[columnIndex].name,datapoint=data[rowIndex-2],text=column&&data[rowIndex-2]?data[rowIndex-2].text:null,hasKids=datapoint&&datapoint.kids,isOpen=!!data[rowIndex-2]&&treeState.open.includes(data[rowIndex-2].id),paddingLeft=8+12*((null===(_data=data[rowIndex-2])||void 0===_data?void 0:_data.depth)||0);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_3__.Group,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect,{x:x,y:y,height:height,width:width,fill:"white",stroke:"#ccc",strokeWidth:.5}),hasKids&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_3__.RegularPolygon,{x:x+paddingLeft,y:y+10,sides:3,radius:5,rotation:isOpen?180:90,fill:"#333",onClick:function onClick(){return onToggleNode(data[rowIndex-2].id,!isOpen)},hitStrokeWidth:20}),text&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_3__.Text,{x:x+paddingLeft+8,y:y,height:height,width:width,text:text,verticalAlign:"middle",align:"left"}))},RowHeader=function RowHeader(_ref2){_ref2.rowIndex;var columnIndex=_ref2.columnIndex,x=_ref2.x,y=_ref2.y,width=_ref2.width,height=_ref2.height,headers=_ref2.headers,text=headers[columnIndex]&&headers[columnIndex].header[columnIndex-1].name,_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),setIsHovered=(_useState2[0],_useState2[1]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_3__.Group,{onMouseEnter:function onMouseEnter(){return setIsHovered(!0)},onMouseLeave:function onMouseLeave(){return setIsHovered(!1)}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect,{x:x,y:y,height:height,width:width,fill:"#eee",stroke:"#ccc",strokeWidth:.5}),text&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_3__.Text,{x:x,y:y,height:height,width:width,text:text,verticalAlign:"middle",align:"center"})))},Cell=function Cell(_ref3){var rowIndex=_ref3.rowIndex,columnIndex=_ref3.columnIndex,x=_ref3.x,y=_ref3.y,width=_ref3.width,height=_ref3.height,data=(_ref3.isHovered,_ref3.data),headers=_ref3.headers,frozenRows=_ref3.frozenRows,column=headers[columnIndex]&&headers[columnIndex].name,text=column&&data[rowIndex-frozenRows]?data[rowIndex-frozenRows][column]:null;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect,{x:x,y:y,height:height,width:width,fill:"white",stroke:"#ccc",strokeWidth:.5}),text&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_3__.Text,{x:x,y:y,offsetX:10,height:height,width:width,text:text,verticalAlign:"middle",align:"right"}))},EmptyCell=function EmptyCell(_ref4){var rowIndex=_ref4.rowIndex,columnIndex=_ref4.columnIndex,x=_ref4.x,y=_ref4.y,width=_ref4.width,height=_ref4.height;"".concat(rowIndex,"x").concat(columnIndex);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_3__.Rect,{x:x,y:y,height:height,width:width,fill:"#eee",stroke:"#ccc",strokeWidth:.5}))},App=function App(){var _useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)({open:[]}),2),treeState=_useState4[0],setTreeState=_useState4[1],headers=[{name:"id",header:["id"]},{name:"Aggregate",header:[{name:"Group Header"},{name:"Aggregated Value"}]},{name:"Aggregate",header:[null,{name:"Aggregated Value 2"}]}],data=[{id:"Parent",text:"Parent",Aggregate:.2012312312,parent:"",leaf:!1,kids:!0,depth:0},{id:"Parent_Child",text:"Child",Aggregate:12.02,parent:"Parent",leaf:!0,kids:!0,depth:1},{id:"Parent_Child_GrandChild",text:"Grandchild",Aggregate:12.02,parent:"Parent_Child",leaf:!0,kids:!1,depth:2}].filter((function(item){var grandParents=item.parent.split("_").reduce((function(acc,item,index,arr){var prev=arr[index-1]?arr[index-1]+"_":"";return acc.push(prev+item),acc}),[]);return!item.parent||!grandParents.some((function(id){return!treeState.open.includes(id)}))&&treeState.open.includes(item.parent)})),gridRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)({rowIndex:0,columnIndex:0}),2),setHoveredCell=(_useState6[0],_useState6[1]),rowCount=data.length+2,columnCount=headers.length+1,_useSelection=Object(_src_hooks_useSelection__WEBPACK_IMPORTED_MODULE_2__.a)({gridRef:gridRef,rowCount:rowCount,columnCount:columnCount}),selection=_useSelection.selection,selectionProps=_objectWithoutProperties(_useSelection,["selection"]),onToggleNode=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(id,isOpen){setTreeState((function(prev){return _objectSpread(_objectSpread({},prev),{},{open:isOpen?prev.open.concat(id):prev.open.filter((function(item){return item!==id}))})}))}),[]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.b,_extends({ref:gridRef,width:width,height:height,columnCount:columnCount,rowCount:rowCount,selection:selection,frozenRows:2,frozenColumns:1,mergedCells:[{top:0,left:0,right:0,bottom:1},{top:0,left:1,right:2,bottom:0}],columnWidth:function columnWidth(index){return 150},onMouseMove:function onMouseMove(_,rowIndex,columnIndex){return setHoveredCell({rowIndex:rowIndex,columnIndex:columnIndex})},itemRenderer:function itemRenderer(props){return props.rowIndex<2&&props.columnIndex<1?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EmptyCell,props):props.rowIndex<2?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(RowHeader,_extends({headers:headers},props)):props.columnIndex<1?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ColumnHeader,_extends({treeState:treeState,data:data,headers:headers,onToggleNode:onToggleNode},props)):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Cell,_extends({frozenRows:2,data:data,headers:headers},props))},rowHeight:function rowHeight(index){return 20}},selectionProps))};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)},ExpandCollapseRows=function ExpandCollapseRows(){var App=function App(){var gridRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),2),open=_useState8[0],toggleOpen=_useState8[1],headers=[{name:"Title"},{name:"Year"},{name:"Votes"}],data=[{id:1,Title:"The Shawshank Redemption",Year:"1994",Votes:"678790"},{parentId:1,Details:"Andy Dufresne, a successful banker, is arrested for the murders of his wife and her lover, and is sentenced to life imprisonment at the Shawshank prison. He becomes the most unconventional prisoner."},{id:2,Title:"The Godfather",Year:1972,Votes:511495},{parentId:2,Details:"Don Vito Corleone, head of a mafia family, decides to hand over his empire to his youngest son Michael. However, his decision unintentionally puts the lives of his loved ones in grave danger."},{id:3,Title:"The Godfather: Part II",Year:"1974",Votes:319352},{parentId:3,Details:"Michael, Vito Corleone's son, attempts to expand his family's criminal empire. While he strikes a business deal with gangster Hyman Roth, he remains unaware of the lurking danger."}].filter((function(row){return!row.parentId||open.includes(row.parentId)})),rowCount=data.length+1,columnCount=headers.length,_useSelection2=Object(_src_hooks_useSelection__WEBPACK_IMPORTED_MODULE_2__.a)({gridRef:gridRef,rowCount:rowCount,columnCount:columnCount}),selections=_useSelection2.selections,selectionProps=_objectWithoutProperties(_useSelection2,["selections"]),mergedCells=data.reduce((function(acc,row,index){return row.parentId&&acc.push({top:index+1,left:0,right:columnCount-1,bottom:index+1}),acc}),[]),handleToggle=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(rowIndex,columnIndex){var row=data[rowIndex];row&&row.id&&(toggleOpen((function(prev){return prev.includes(row.id)?prev.filter((function(id){return id!==row.id})):[].concat(_toConsumableArray(prev),[row.id])})),gridRef.current.resetAfterIndices({rowIndex:rowIndex},!0))}),[data]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.b,_extends({mergedCells:mergedCells,ref:gridRef,rowCount:rowCount,columnCount:columnCount,columnWidth:function columnWidth(columnIndex){return 0===columnIndex?300:100},rowHeight:function rowHeight(rowIndex){var item=data[rowIndex-1];return item&&item.Details?40:20},itemRenderer:function itemRenderer(props){var _headers$columnIndex2,_data$dataStartRowInd,_headers$columnIndex,rowIndex=props.rowIndex,columnIndex=props.columnIndex;if(props.rowIndex<1)return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.a,_extends({},props,{align:"left",value:null===(_headers$columnIndex=headers[columnIndex])||void 0===_headers$columnIndex?void 0:_headers$columnIndex.name,fill:"#eee"}));var dataStartRowIndex=rowIndex-1,key=null===(_headers$columnIndex2=headers[columnIndex])||void 0===_headers$columnIndex2?void 0:_headers$columnIndex2.name,id=null===(_data$dataStartRowInd=data[dataStartRowIndex])||void 0===_data$dataStartRowInd?void 0:_data$dataStartRowInd.id,details=data[dataStartRowIndex]?data[dataStartRowIndex].Details:null,value=key&&data[dataStartRowIndex]?data[dataStartRowIndex][key]:"",isOpen=open.includes(id),toggleable=0===columnIndex&&value&&!details;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.a,_extends({onClick:function onClick(){return handleToggle(dataStartRowIndex,columnIndex)},verticalAlign:details?"top":"middle",value:value||details},props,{align:"left",padding:toggleable?20:5,wrap:"word"}),0===columnIndex&&value&&!details?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_3__.RegularPolygon,{x:props.x+10,y:props.y+10,sides:3,radius:5,fill:"black",rotation:isOpen?180:90,hitStrokeWidth:20}):null)},frozenRows:1,selections:selections},selectionProps))};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)};ExpandCollapseRows.story={name:"Expand collapse rows"}},703:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"UndoRedo",(function(){return UndoRedo}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_src__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_src_hooks_useSelection__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(19),_src_hooks_useEditable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(81),_src_hooks_useUndo__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(72);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}__webpack_exports__.default={title:"Undo Redo",component:_src__WEBPACK_IMPORTED_MODULE_1__.b};var UndoRedo=function UndoRedo(){var App=function App(){var gridRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),_useUndo=Object(_src_hooks_useUndo__WEBPACK_IMPORTED_MODULE_4__.b)({onUndo:function onUndo(patches){var path=patches.path,value=patches.value,_path=_slicedToArray(path,2),key=_path[0],_path$=_path[1],rowIndex=_path$.rowIndex,columnIndex=_path$.columnIndex;"data"===key&&(setData((function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},[rowIndex,columnIndex],value))})),setActiveCell({rowIndex:rowIndex,columnIndex:columnIndex}))},onRedo:function onRedo(patches){var path=patches.path,value=patches.value,_path2=_slicedToArray(path,2),key=_path2[0],_path2$=_path2[1],rowIndex=_path2$.rowIndex,columnIndex=_path2$.columnIndex;"data"===key&&(setData((function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},[rowIndex,columnIndex],value))})),setActiveCell({rowIndex:rowIndex,columnIndex:columnIndex}))}}),undo=_useUndo.undo,redo=_useUndo.redo,addToUndoStack=_useUndo.add,canUndo=_useUndo.canUndo,canRedo=_useUndo.canRedo,undoProps=_objectWithoutProperties(_useUndo,["undo","redo","add","canUndo","canRedo"]),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)({"1,1":"Hello"}),2),data=_useState2[0],setData=_useState2[1],getCellValue=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(_ref){var rowIndex=_ref.rowIndex,columnIndex=_ref.columnIndex;return data[[rowIndex,columnIndex]]}),[data]),cellValueRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)();cellValueRef.current=getCellValue;var _useSelection=Object(_src_hooks_useSelection__WEBPACK_IMPORTED_MODULE_2__.a)({rowCount:100,columnCount:100,gridRef:gridRef}),selections=_useSelection.selections,activeCell=_useSelection.activeCell,setActiveCell=_useSelection.setActiveCell,selectionProps=_objectWithoutProperties(_useSelection,["selections","activeCell","setActiveCell"]),_useEditable=Object(_src_hooks_useEditable__WEBPACK_IMPORTED_MODULE_3__.a)({gridRef:gridRef,getValue:getCellValue,selections:selections,activeCell:activeCell,onDelete:function onDelete(activeCell,selections){if(selections.length){var newValues=selections.reduce((function(acc,_ref2){for(var sel=_ref2.bounds,i=sel.top;i<=sel.bottom;i++)for(var j=sel.left;j<=sel.right;j++)acc[[i,j]]="";return acc}),{});setData((function(prev){return _objectSpread(_objectSpread({},prev),newValues)}));var selectionBounds=selections[0].bounds;gridRef.current.resetAfterIndices({columnIndex:selectionBounds.left,rowIndex:selectionBounds.top},!0)}else activeCell&&(addToUndoStack(Object(_src_hooks_useUndo__WEBPACK_IMPORTED_MODULE_4__.a)(["data",activeCell],void 0,cellValueRef.current(activeCell))),setData((function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},[activeCell.rowIndex,activeCell.columnIndex],""))})),gridRef.current.resetAfterIndices(activeCell))},onSubmit:function onSubmit(value,cell,nextActiveCell){var rowIndex=cell.rowIndex,columnIndex=cell.columnIndex,previousValue=cellValueRef.current(cell);setData((function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},[rowIndex,columnIndex],value))})),gridRef.current.resizeColumns([columnIndex]),addToUndoStack(Object(_src_hooks_useUndo__WEBPACK_IMPORTED_MODULE_4__.a)(["data",cell],value,previousValue)),nextActiveCell&&setActiveCell(nextActiveCell)}}),editorComponent=_useEditable.editorComponent,editableProps=(_useEditable.editingCell,_useEditable.isEditInProgress,_objectWithoutProperties(_useEditable,["editorComponent","editingCell","isEditInProgress"]));return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.b,_extends({ref:gridRef,activeCell:activeCell,rowCount:100,columnCount:100,selections:selections,itemRenderer:function itemRenderer(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_1__.a,_extends({},props,{padding:0,value:getCellValue({rowIndex:props.rowIndex,columnIndex:props.columnIndex})}))}},selectionProps,editableProps,{onKeyDown:function onKeyDown(){selectionProps.onKeyDown.apply(selectionProps,arguments),editableProps.onKeyDown.apply(editableProps,arguments),undoProps.onKeyDown.apply(undoProps,arguments)},onMouseDown:function onMouseDown(){selectionProps.onMouseDown.apply(selectionProps,arguments),editableProps.onMouseDown.apply(editableProps,arguments)}})),editorComponent,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!canUndo,onClick:undo},"Undo"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{disabled:!canRedo,onClick:redo},"Redo"))};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null)};UndoRedo.story={name:"Default"}},704:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"TouchGrid",(function(){return touch_stories_TouchGrid}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),src=__webpack_require__(3),useSelection=__webpack_require__(19),hooks_useTouch=function useTouch(_ref){var gridRef=_ref.gridRef;return{onTouchStart:Object(react.useCallback)((function(e){var target=e.currentTarget,_e$touches$=e.touches[0],pageX=_e$touches$.pageX,pageY=_e$touches$.pageY,x=pageX,y=pageY,handleTouchMove=function handleTouchMove(e){var _e$changedTouches$=e.changedTouches[0],pageX=_e$changedTouches$.pageX,pageY=_e$changedTouches$.pageY,dx=pageX-x,dy=pageY-y,isHorizontal=Math.abs(dx)>Math.abs(dy);gridRef.current.scrollBy({x:isHorizontal?-dx:void 0,y:isHorizontal?void 0:-dy}),x=pageX,y=pageY};target.addEventListener("touchmove",handleTouchMove),target.addEventListener("touchend",(function handleTouchEnd(){target.removeEventListener("touchmove",handleTouchMove),target.removeEventListener("touchend",handleTouchEnd)}))}),[])}};function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}__webpack_exports__.default={title:"Mobile (touch)",component:src.b};var touch_stories_TouchGrid=function TouchGrid(){var gridRef=Object(react.useRef)(),_useSelection=Object(useSelection.a)({gridRef:gridRef,rowCount:200,columnCount:200}),selections=_useSelection.selections,selectionProps=_objectWithoutProperties(_useSelection,["selections"]),touchProps=hooks_useTouch({gridRef:gridRef});return react_default.a.createElement(src.b,_extends({ref:gridRef,itemRenderer:function itemRenderer(props){return react_default.a.createElement(src.a,_extends({},props,{value:"".concat(props.rowIndex,":").concat(props.columnIndex)}))},rowCount:200,columnCount:200,selections:selections},selectionProps,touchProps))};touch_stories_TouchGrid.story={name:"Default"}},72:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createPatches}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function createPatches(path,value,previousValue){var op=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"replace",patches={op:op,value:value,path:path},inversePatches={op:op,value:previousValue,path:path};return{patches:patches,inversePatches:inversePatches}}__webpack_exports__.b=function useUndo(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},onRedo=props.onRedo,onUndo=props.onUndo,undoStack=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]),undoStackPointer=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(-1),_useReducer=Object(react__WEBPACK_IMPORTED_MODULE_0__.useReducer)((function(s){return s+1}),0),_useReducer2=_slicedToArray(_useReducer,2),forceRender=(_useReducer2[0],_useReducer2[1]),handleKeyDown=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var isUndo=(e.metaKey||e.ctrlKey)&&e.which===_types__WEBPACK_IMPORTED_MODULE_1__.b.Z,isRedo=e.shiftKey&&isUndo;(isRedo||isUndo)&&(isRedo?handleRedo():handleUndo())}),[]),handleUndo=function handleUndo(){if(!(undoStackPointer.current<0)){var patches=undoStack.current[undoStackPointer.current].inversePatches;undoStackPointer.current--,onUndo&&onUndo(patches),forceRender()}},handleRedo=function handleRedo(){if(undoStackPointer.current!==undoStack.current.length-1){undoStackPointer.current++;var patches=undoStack.current[undoStackPointer.current].patches;onRedo&&onRedo(patches),forceRender()}},addUndoable=function addUndoable(_ref){var patches=_ref.patches,inversePatches=_ref.inversePatches,pointer=++undoStackPointer.current;undoStack.current.length=pointer,undoStack.current[pointer]={patches:patches,inversePatches:inversePatches},forceRender()};return{undo:handleUndo,redo:handleRedo,add:addUndoable,canUndo:!(undoStackPointer.current<0),canRedo:!(undoStackPointer.current===undoStack.current.length-1),onKeyDown:handleKeyDown}}},81:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_helpers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var DefaultEditor=function DefaultEditor(props){props.rowIndex,props.columnIndex;var _onChange=props.onChange,onSubmit=props.onSubmit,onCancel=props.onCancel,position=props.position,cell=props.cell,nextFocusableCell=props.nextFocusableCell,_props$value=props.value,value=void 0===_props$value?"":_props$value,rest=(props.activeCell,_objectWithoutProperties(props,["rowIndex","columnIndex","onChange","onSubmit","onCancel","position","cell","nextFocusableCell","value","activeCell"])),textSizer=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(Object(_helpers__WEBPACK_IMPORTED_MODULE_2__.b)("12px Arial")),inputRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),_position$x=position.x,x=void 0===_position$x?0:_position$x,_position$y=position.y,y=void 0===_position$y?0:_position$y,_position$width=position.width,width=void 0===_position$width?0:_position$width,_position$height=position.height,height=void 0===_position$height?0:_position$height,getWidth=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(text){var _textSizer$current$me,textWidth=(null===(_textSizer$current$me=textSizer.current.measureText(text))||void 0===_textSizer$current$me?void 0:_textSizer$current$me.width)||0;return Math.max(textWidth+10,width)}),[]),_useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)((function(){return getWidth(value)})),2),inputWidth=_useState2[0],setInputWidth=_useState2[1];Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){inputRef.current&&(inputRef.current.focus(),inputRef.current.selectionStart=value.length)}),[]);var inputHeight=height;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{top:y-1,left:x,position:"absolute",width:inputWidth,height:inputHeight+2,padding:2,boxShadow:"0 2px 6px 2px rgba(60,64,67,.15)",border:"2px #1a73e8 solid",background:"white"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("textarea",_extends({rows:1,cols:1,ref:inputRef,defaultValue:value,style:{font:"12px Arial",lineHeight:1.2,width:"100%",height:"100%",padding:"0 1px",margin:0,boxSizing:"border-box",borderWidth:0,outline:"none",resize:"none",overflow:"hidden"},onChange:function onChange(e){setInputWidth(getWidth(e.target.value)),_onChange(e.target.value,cell)},onKeyDown:function onKeyDown(e){if(inputRef.current){var isShiftKey=e.nativeEvent.shiftKey,value=inputRef.current.value;e.which===_types__WEBPACK_IMPORTED_MODULE_1__.b.Enter&&onSubmit&&onSubmit(value,cell,nextFocusableCell(cell,isShiftKey?_types__WEBPACK_IMPORTED_MODULE_1__.a.Up:_types__WEBPACK_IMPORTED_MODULE_1__.a.Down)),e.which===_types__WEBPACK_IMPORTED_MODULE_1__.b.Escape&&onCancel&&onCancel(e),e.which===_types__WEBPACK_IMPORTED_MODULE_1__.b.Tab&&onSubmit&&onSubmit(value,cell,nextFocusableCell(cell,isShiftKey?_types__WEBPACK_IMPORTED_MODULE_1__.a.Left:_types__WEBPACK_IMPORTED_MODULE_1__.a.Right))}}},rest)))},getDefaultEditor=function getDefaultEditor(cell){return DefaultEditor};__webpack_exports__.a=function useEditable(_ref){var _ref$getEditor=_ref.getEditor,getEditor=void 0===_ref$getEditor?getDefaultEditor:_ref$getEditor,gridRef=_ref.gridRef,getValue=_ref.getValue,onChange=_ref.onChange,onSubmit=_ref.onSubmit,onCancel=_ref.onCancel,onDelete=_ref.onDelete,_ref$selections=_ref.selections,selections=void 0===_ref$selections?[]:_ref$selections,activeCell=_ref.activeCell,onBeforeEdit=_ref.onBeforeEdit,_useState4=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isEditorShown=_useState4[0],setShowEditor=_useState4[1],_useState6=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),2),value=_useState6[0],setValue=_useState6[1],_useState8=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)({x:0,y:0,width:0,height:0}),2),position=_useState8[0],setPosition=_useState8[1],currentActiveCellRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),initialActiveCell=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),_useState10=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)({scrollLeft:0,scrollTop:0}),2),scrollPosition=_useState10[0],setScrollPosition=_useState10[1],isDirtyRef=Object(react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1),hideEditor=function hideEditor(){setShowEditor(!1),currentActiveCellRef.current=null},focusGrid=function focusGrid(){return requestAnimationFrame((function(){return gridRef.current.focus()}))},makeEditable=function makeEditable(coords,initialValue){if(gridRef.current&&(!onBeforeEdit||onBeforeEdit(coords))){currentActiveCellRef.current=coords;var pos=gridRef.current.getCellOffsetFromCoords(coords);setValue(initialValue||getValue(coords)||""),function showEditor(){setShowEditor(!0)}(),setPosition(pos)}},handleDoubleClick=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var coords=gridRef.current.getCellCoordsFromOffset(e.clientX,e.clientY);if(coords){var rowIndex=coords.rowIndex,columnIndex=coords.columnIndex;makeEditable({rowIndex:rowIndex,columnIndex:columnIndex})}}),[getValue]),handleKeyDown=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var keyCode=e.nativeEvent.keyCode;if(keyCode!==_types__WEBPACK_IMPORTED_MODULE_1__.b.Tab||initialActiveCell.current||(initialActiveCell.current=activeCell),!(function isSelectionKey(keyCode){return[_types__WEBPACK_IMPORTED_MODULE_1__.b.Right,_types__WEBPACK_IMPORTED_MODULE_1__.b.Left,_types__WEBPACK_IMPORTED_MODULE_1__.b.Up,_types__WEBPACK_IMPORTED_MODULE_1__.b.Down,_types__WEBPACK_IMPORTED_MODULE_1__.b.Meta,_types__WEBPACK_IMPORTED_MODULE_1__.b.Escape,_types__WEBPACK_IMPORTED_MODULE_1__.b.Tab,_types__WEBPACK_IMPORTED_MODULE_1__.b.Home,_types__WEBPACK_IMPORTED_MODULE_1__.b.End,_types__WEBPACK_IMPORTED_MODULE_1__.b.CapsLock].includes(keyCode)}(keyCode)||e.nativeEvent.ctrlKey||e.nativeEvent.shiftKey&&("Shift"===e.nativeEvent.key||e.nativeEvent.which===_types__WEBPACK_IMPORTED_MODULE_1__.b.SPACE)||e.nativeEvent.metaKey||e.nativeEvent.which===_types__WEBPACK_IMPORTED_MODULE_1__.b.ALT)&&activeCell){var rowIndex=activeCell.rowIndex,columnIndex=activeCell.columnIndex;if(keyCode!==_types__WEBPACK_IMPORTED_MODULE_1__.b.Delete&&keyCode!==_types__WEBPACK_IMPORTED_MODULE_1__.b.BackSpace){var initialValue=keyCode===_types__WEBPACK_IMPORTED_MODULE_1__.b.Enter?void 0:e.nativeEvent.key;makeEditable({rowIndex:rowIndex,columnIndex:columnIndex},initialValue)}else onDelete&&onDelete(activeCell,selections)}}),[selections,activeCell]),nextFocusableCell=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(currentCell){var _initialActiveCell$cu,_initialActiveCell$cu2,_initialActiveCell$cu3,_initialActiveCell$cu4,direction=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_types__WEBPACK_IMPORTED_MODULE_1__.a.Right,nextActiveCell=currentCell;switch(direction){case _types__WEBPACK_IMPORTED_MODULE_1__.a.Right:nextActiveCell={rowIndex:currentCell.rowIndex,columnIndex:currentCell.columnIndex+1};break;case _types__WEBPACK_IMPORTED_MODULE_1__.a.Up:nextActiveCell={rowIndex:currentCell.rowIndex-1,columnIndex:currentCell.columnIndex};break;case _types__WEBPACK_IMPORTED_MODULE_1__.a.Left:nextActiveCell={rowIndex:currentCell.rowIndex,columnIndex:currentCell.columnIndex-1};break;default:nextActiveCell={rowIndex:(null!==(_initialActiveCell$cu=null===(_initialActiveCell$cu2=initialActiveCell.current)||void 0===_initialActiveCell$cu2?void 0:_initialActiveCell$cu2.rowIndex)&&void 0!==_initialActiveCell$cu?_initialActiveCell$cu:currentCell.rowIndex)+1,columnIndex:null!==(_initialActiveCell$cu3=null===(_initialActiveCell$cu4=initialActiveCell.current)||void 0===_initialActiveCell$cu4?void 0:_initialActiveCell$cu4.columnIndex)&&void 0!==_initialActiveCell$cu3?_initialActiveCell$cu3:currentCell.columnIndex}}if(direction!==_types__WEBPACK_IMPORTED_MODULE_1__.a.Right||initialActiveCell.current||(initialActiveCell.current=currentCell),direction===_types__WEBPACK_IMPORTED_MODULE_1__.a.Down&&(initialActiveCell.current=void 0),selections.length&&currentCell&&gridRef){var bounds=selections[selections.length-1].bounds,activeCellBounds=gridRef.current.getCellBounds(currentCell),nextCell=Object(_helpers__WEBPACK_IMPORTED_MODULE_2__.f)(activeCellBounds,bounds,direction);nextCell&&(nextActiveCell=nextCell)}return nextActiveCell}),[selections]),handleSubmit=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(value,activeCell,nextActiveCell){hideEditor(),onSubmit&&onSubmit(value,activeCell,nextActiveCell),focusGrid()}),[]),handleMouseDown=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){currentActiveCellRef.current&&(isDirtyRef.current?handleSubmit(value,currentActiveCellRef.current):handleHide()),initialActiveCell.current=void 0}),[value]),handleChange=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(newValue,activeCell){activeCell&&(isDirtyRef.current=newValue!==value,setValue(newValue),onChange&&onChange(newValue,activeCell))}),[value]),handleHide=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){hideEditor(),onCancel&&onCancel(),focusGrid()}),[]),handleScroll=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(scrollPos){setScrollPosition(scrollPos)}),[]),editingCell=currentActiveCellRef.current,Editor=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return editingCell?getEditor(editingCell)||getDefaultEditor():null}),[editingCell]),cellPositon=Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return _objectSpread(_objectSpread({},position),{},{x:position.x-scrollPosition.scrollLeft,y:position.y-scrollPosition.scrollTop})}),[position,scrollPosition]),handleBlur=Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){currentActiveCellRef.current&&focusGrid()}),[]);return{editorComponent:isEditorShown&&Editor?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Editor,{cell:editingCell,activeCell:activeCell,value:value,selections:selections,onChange:handleChange,onSubmit:handleSubmit,onCancel:handleHide,position:cellPositon,nextFocusableCell:nextFocusableCell,onBlur:handleBlur}):null,onDoubleClick:handleDoubleClick,onScroll:handleScroll,onKeyDown:handleKeyDown,onMouseDown:handleMouseDown,nextFocusableCell:nextFocusableCell,isEditInProgress:!!editingCell,editingCell:editingCell}}}},[[311,1,2]]]);
//# sourceMappingURL=main.72370b7d4765cf3d849b.bundle.js.map